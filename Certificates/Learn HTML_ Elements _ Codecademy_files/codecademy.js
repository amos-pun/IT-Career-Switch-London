(function(){try{
(()=>{var up=Object.defineProperty;var pp=(t,e,o)=>e in t?up(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o;var xo=(t,e,o)=>(pp(t,typeof e!="symbol"?e+"":e,o),o);var l={apps:[{active:!0,app:"TARGET",platforms:[{platform:"FACEBOOK_ADS"}]}],bundles:[{name:"codecademy"}],config:{events:{purchase:{fbEventsToIntercept:[{event:"StartTrial"}]}},spa:{refresh:{delay:1e3,enabled:!0}},visitor:{id_name:"_bcai_i",id_source:"cookie",set_info:!0}},facebookAccounts:[{advancedMatching:!0,pixelId:"1036078779778355"}],name:"CODECADEMY",pages:[{ignored:!1,log_purchase:!1,pageName:"checkout",pattern:"/checkout/?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"confirmation",pattern:"/confirm/?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"courses.lessons.exercises.javascript",pattern:"/courses/.*javascript.*lessons/.*exercises/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"courses.lessons.exercises.react",pattern:"/courses/.*react.*lessons/.*exercises/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"courses.lessons.exercises.python",pattern:"/courses/.*python.*lessons/.*exercises/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"courses.lessons.exercises.java",pattern:"/courses/.*java.*lessons/.*exercises/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"courses.lessons.exercises.c-plus-plus",pattern:"/courses/.*c-plus-plus.*lessons/.*exercises/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"courses.lessons.exercises.other",pattern:"/courses/.*lessons/.*exercises/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"courses.lessons.other",pattern:"/courses/.*lessons/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"courses.other",pattern:"/courses/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"catalog.language.details",pattern:"/catalog/language/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"catalog",pattern:"/catalog.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"learn.paths",pattern:"/learn/paths/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"learn.learn-python-3",pattern:"/learn/learn-python-3/?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"learn",pattern:"/learn.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"paths.tracks",pattern:"/paths/.*/tracks.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"resources",pattern:"/resources.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"explore.sorting-quiz",pattern:"/explore/sorting-quiz/?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"career-journey",pattern:"/career-journey/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"account",pattern:"/account/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"article",pattern:"/article/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"forum_questions",pattern:"/forum_questions/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"profiles.details",pattern:"/profiles/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"journeys.details",pattern:"/journeys/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"search",pattern:"/search/?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"login",pattern:"/login/?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"home",pattern:"^https?:\\/\\/([a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?\\.)+[a-z0-9][a-z0-9-]{0,61}[a-z0-9]\\/?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"other"}]};var f=window.IntentProperties?window.IntentProperties.namespace||"intent":"blackcrow",i=window.blackcrow||window.intent||{},d;Array.isArray(i)&&(d=i,i={});i.BUNDLE_NAME="codecademy.js";i.BUILD_NUMBER="12173";i.TAG_SRC=window.blackcrowTagSrc||"JS";window.blackcrow=i;window.intent=i;var p=i.SITE_NAME||"codecademy",Br="init.blackcrow.ai";document.currentScript&&document.currentScript instanceof HTMLElement?Br=document.currentScript.src.split("/")[2]:i.TAG_SRC==="ShopifyAppExtension"&&(Br="shopify-init.blackcrow.ai");var m="https://"+Br+"/";__webpack_public_path__=m;var Gs=`
`;function W(t,e){if(typeof t=="string"){let o=t.split(Gs);return o.splice(1,e),o.join(Gs)}return""}function $r(){return i.TAG_SRC||"JS"}function I(){return $r()==="ShopifyAppExtension"}function dp(){try{return window.location!==window.top.location}catch{return!0}}function Mr(){return I()?window.location.hostname:window.top.location.hostname}function Hs(){return I()?window.location:dp()?window.top.location:window.location}function X(){return Hs()?.pathname}function x(){return Hs().href}function Q(){return window?.navigator?.userAgent}function jt(t){return performance&&typeof performance.getEntriesByType=="function"&&performance.getEntriesByType(t)||[]}function bo(){return performance&&typeof performance.now=="function"&&performance.now()||0}function Jt(t,e){let o=window.browser;if(I()&&o){o.sendBeacon(t,e);return}window?.navigator?.sendBeacon(t,e)}var lp=["clicktripz","example","partner"],gp=[".shopifypreview.","localhost.","demo.","staging.","development-","development.","sp-blackcrow.myshopify.com"],_p=["localhost","127.0.0.1"];function hp(){let t=Mr();return t===""||_p.includes(t)}function Ep(){let t=Mr(),e=!1;return gp.forEach(o=>{t.indexOf(o)!==-1&&(e=!0)}),e}function Vt(t){return lp.indexOf(t.toLowerCase())!==-1||hp()||Ep()}function Z(t,e={},o="info"){if(Vt(p))return;let r="https://monitor-api.blackcrow.ai/",n=!1,s=JSON.stringify({message:t,status:o,service:"javascript-api",version:parseInt("12173",10)||0,ddsource:"browser",ddtags:`env:${n?"dev":"production"}`,"logger.name":"monitor-api","http.useragent":Q(),"view.site":p,...e});Jt(r,s)}function Ws(t){let e=Math.random();(t.overrideSampling||e>=.3&&e<.4)&&Z(t.message,{status:t.status||"error","error.kind":t.name,"error.message":t.message,"error.stack":t.stack,"view.url":x(),"view.referrer":document.referrer})}function yp(t){if(typeof t.stack=="string"&&t.stack)return t.stack;try{throw t}catch(e){return W(e.stack,2)}}function wp(t){let e=!0;return t.skipNotify&&(e=!1),t.message.indexOf("com.gargoylesoftware.htmlunit")!==-1&&(e=!1),e}function vp(t,e){let r=`BlackCrow${e?` ${e}`:""} ${t.stack}`;window.console&&(window.console.error?window.console.error(r):window.console.log(r))}function To(t,e={}){if(!t)return;try{t.stack=yp(t)}catch{}!1&&vp(t,e.appName),wp(t)&&typeof To.sendErrorToServer=="function"&&To.sendErrorToServer(t)}To.sendErrorToServer=Ws;i.error=To;function Po(t,e){let o=document.createElement("link");o.rel=e,o.href=t,document.head.appendChild(o)}i.TAG_SRC!=="ShopifyAppExtension"&&!window.blackcrowpreconnected&&(Po("https://api.blackcrow.ai/","preconnect"),Po("https://api.blackcrow.ai/","dns-prefetch"),Po(m,"preconnect"),Po(m,"dns-prefetch"),window.blackcrowpreconnected=1);function w(t,e,o){if(t)if(typeof t.length<"u"){for(let r=0,n=t.length;r<n;r+=1)if(e.call(o,t[r],r,t)===!1)return}else{let r=Object.keys(t);for(let n=0,s=r.length;n<s;n+=1)if(e.call(o,t[r[n]],r[n],t)===!1)return}}var Sp="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";var Ks=(t=21)=>{let e="",o=t;for(;o--;)e+=Sp[Math.random()*64|0];return e};var js=Ks;function A(t,e){if(I())return window.blackcrow.cookie.get(t);e=e||document.cookie;let o={};return w(e.split(/\s?;\s?/),r=>{let n=r.split(/\s?=\s?/);o[n.shift().trim()]=n.join("=").trim()}),o[t]}var Vr="_bcai_h",Ue="_bcai_i",Ur="_bcai_e",Js="_bcai_t",Ys="_bcai_up",qr="_bcai_vn",Gr="_bcai_vs",ko="_bcai_v",qe="_bcai_pu",Hr="_bcai_lpv",Wr="_bcai_spv",Co="_bcai_em",Kr="_bcai_fn",jr="_bcai_ln",No="_bcai_ph",Xs="_bcai_koc",zs="_bcai_khs",Qs="_bcai_kps",Zs="_bcai_pwo_ebc",Jr="_bcai_ca",Yr="_bcai_ebc",ta="_bcai_nfs",ea="fbclid",Oo="_fbc",Yt="_fbp",Ro="__kla_id";var Ge;function Xr(){if(Ge)return Ge;let t=document.location.hostname.split("."),e,o,r=t.length;if(r===1)Ge="";else{for(e=`${Js}${new Date().valueOf()}`;r>2&&(r-=1,o=t.slice(1).join("."),document.cookie=`${e}=${e}; domain=${o}`,e=A(e),document.cookie=`${e}=1; expires=Thu, 01 Jan 1970 00:00:00 GMT; domain=${o}`,!!e);)t.shift();Ge=t.join(".")}return Ge}function V(t,e,o){try{let r;if(o){let s=new Date;s.setTime(s.getTime()+o*60*1e3),r=`;expires=${s.toUTCString()}`}else r="";let n=`${t}=${e}${r};domain=${Xr()};path=/`;I()?(browser.cookie.set(n),window.blackcrow.cookie.set(t,e)):document.cookie=n}catch{}}var ue;function Ct(){return ue||(ue=A(Ue),ue||(ue=js(),V(Ue,ue,1051200)),ue)}function Ip(t,e){var o,r,n,s,u,c,a,g,_,y;for(o=t.length&3,r=t.length-o,n=e,u=3432918353,a=461845907,y=0;y<r;)_=t.charCodeAt(y)&255|(t.charCodeAt(++y)&255)<<8|(t.charCodeAt(++y)&255)<<16|(t.charCodeAt(++y)&255)<<24,++y,_=(_&65535)*u+(((_>>>16)*u&65535)<<16)&4294967295,_=_<<15|_>>>17,_=(_&65535)*a+(((_>>>16)*a&65535)<<16)&4294967295,n^=_,n=n<<13|n>>>19,s=(n&65535)*5+(((n>>>16)*5&65535)<<16)&4294967295,n=(s&65535)+27492+(((s>>>16)+58964&65535)<<16);switch(_=0,o){case 3:_^=(t.charCodeAt(y+2)&255)<<16;case 2:_^=(t.charCodeAt(y+1)&255)<<8;case 1:_^=t.charCodeAt(y)&255,_=(_&65535)*u+(((_>>>16)*u&65535)<<16)&4294967295,_=_<<15|_>>>17,_=(_&65535)*a+(((_>>>16)*a&65535)<<16)&4294967295,n^=_}return n^=t.length,n^=n>>>16,n=(n&65535)*2246822507+(((n>>>16)*2246822507&65535)<<16)&4294967295,n^=n>>>13,n=(n&65535)*3266489909+(((n>>>16)*3266489909&65535)<<16)&4294967295,n^=n>>>16,n>>>0}var Ap=4294967295,xp=108;function He(t){return Ip(t||"",xp)/Ap}function q(t={}){let e=Ct(),o=t.name||"",{force:r,allocations:n}=t,s=He(`${e}${o}`);if(r)return n.find(g=>g.name===r)?.value;let u=0,c=[];w(t.allocations,g=>{if(c.push({min:u,max:u+g.percent,value:g.value}),u+=g.percent,u>1)throw new Error("Bucket allocation exceeds 100%")});let a;return w(c,g=>s>=g.min&&s<g.max?(a=g.value,!1):!0),a}function st(){return document.referrer}function Ie(){return document.title}function bp(t,e){let o=e.split("[");return o.length>1?t&&t[o[0]]&&t[o[0]][parseInt(o[1],10)]:t&&t[e]}function v(t,e){if(!(!t||!e||typeof e!="string"))return e.split(".").reduce(bp,t)}function pe(t,e,o,r,n){!t||!e||typeof e!="string"||(e.indexOf(".")!==-1?(e=e.split("."),pe(t,e.shift(),o,e,n)):!r||r.length===0?(!n||!Object.prototype.hasOwnProperty.call(t,e))&&(t[e]=o):((!n||!Object.prototype.hasOwnProperty.call(t,e))&&(t[e]=t[e]||{}),pe(t[e],r.shift(),o,r,n)))}i.storage=i.storage||{};function Tp(t,e){let o=i.storage[t].audience;typeof o=="object"&&e?.audience===!1?i.storage[t]={audience:o}:i.storage[t]={}}function z(t){t&&(i.storage[t]=i.storage[t]||{});function e(){return i.storage[t]}return{clear:o=>{t==="bound_events"&&o?Tp(t,o):i.storage[t]={}},getAll:()=>e()||{},get:o=>v(e(),o),set:(o,r)=>{let n=e();typeof o=="string"?pe(n,o,r):w(o,(s,u)=>{pe(n,u,s)})},push:(o,r)=>{let n=e(),s=v(n,o);Array.isArray(s)?s.push(r):pe(n,o,[r])}}}var oa=z("page"),ra="history";function Pp(t,e){return typeof e=="function"?e.toString().replace(/\s+/g," "):e}function na(){return console.group(`${f} history`),w(oa.get(ra),t=>{console.groupCollapsed(t.name),console.log("data",JSON.stringify(t.data,Pp,4)),console.log(t.source),console.groupEnd()}),console.groupEnd(),""}function Y(t,e){let o=new Error("");o.name="source",o.stack=W(o.stack,1),oa.push(ra,{name:t,data:e,source:o})}var kp=Object.prototype.toString,zr=Array.prototype.slice;function S(t,...e){return t=t||{},w(e,o=>{w(o,(r,n)=>{let s=kp.call(r).split(" ").pop();if(s!=="Undefined]"){if(!r||r===r.window||r.nodeType||r._isVue){t[n]=r;return}if(s==="Object]"){t[n]=t[n]||{},S(t[n],r);return}if(s==="Array]"){t[n]=t[n]||[],t[n]=zr.call(t[n]).concat(r);return}if(s==="NodeList]"||s==="HTMLCollection]"){t[n]=t[n]||[],t[n]=zr.call(t[n]).concat(zr.call(r));return}t[n]=r}})},this),t}window.blackcrow.pushedData=window.blackcrow.pushedData||{};function Qr(){let t=window.blackcrow.pushedData;t&&(t.setByFacebookIntercept||t.winLocation!==x())&&(window.blackcrow.pushedData={})}function Lo(t){S(window.blackcrow.pushedData,t,{winLocation:x()})}function Do(t){window.blackcrow.pushedData={...t,winLocation:x()}}function P(t){return v(window.blackcrow.pushedData,t)}var Zr=z("events_api_response"),tn=z("api_config");function Ae(t){let e=new Error(t);return e.name="SequencingError",e.status="warn",e.stack=W(e.stack,1),e}var ia=!1,sa=!1;function aa(t,e){if(t){let o=e.get(`data.${t}`);if(typeof o=="string"){let r=o.toLowerCase();return r==="off"||r==="false"?!1:o}return o}return e.get("data")}function en(t){tn.set("data",t),sa=!0}function L(t){return sa===!1&&i.error(new Ae("Attempting to access apiConfig before it has been set!")),aa(t,tn)}function We(t){Zr.set("data",t),ia=!0}function on(t){return ia===!1&&i.error(new Ae("Attempting to access events api response before it has been set!")),aa(t,Zr)}function rn(){return!!on("history_id")}function Cp(t){let e=new Error(t);return e.name="URIDecodingError",e.status="warn",e.stack=W(e.stack,1),e}function vt(t){let e={};if(typeof t=="string"&&t.length){let o=t.split("?");o.shift(),o=o.join("?"),o=o.split("#")[0],w(o.split("&"),r=>{let n=r;try{n=decodeURIComponent(n)}catch{i.error(new Cp(`Unable to decode URI component: ${n}`))}let s=n.indexOf("="),u=s>0?[n.slice(0,s),n.slice(s+1)]:[n];typeof u[1]<"u"&&(e[u[0]]=u[1])})}return e}function G(t,e){return e?vt(e)[t]:vt(x())[t]}var ca="config.visitor.query_string";function Np(t){let e=t?v(t,ca):L(ca);return e?{param:e.param,separator:e.separator,index:e.index}:{}}function Op(t){let e=t.param;if(e)return G(e)}function Rp(t,e){let o=e.separator,r=e.index;return o&&r?t.split(o)[r]||void 0:t}function fa(t){let e=Np(t),o=Op(e);if(o)return Rp(o,e)}var nn,sn;function Lp(){let t,e=window.GoogleAnalyticsObject?window[window.GoogleAnalyticsObject]:window.ga;return e&&typeof e.getAll=="function"&&w(e.getAll(),o=>{try{let r=o.get("clientId");if(r)return t=r,!1}catch{}}),t}function Dp(){if(typeof sn<"u")return sn;let t,e=A("_ga");if(e){let o=e.split(".");o.shift(),o.shift(),t=o.join(".")}return sn=t,t}function Xt(t){if(nn)return nn;let e=P("google_id")||fa(t)||window.gaGlobal&&window.gaGlobal.vid||Lp()||Dp();return nn=e,e}var ua="blackcrow",pa="cookie",ma="global",da="google",an="pushed_data";var me,St=ua.toUpperCase(),It=ko,Fo=!1;function la(t,e,o){V(ko,t,1051200),V(Gr,e,1051200),V(qr,o,1051200)}function xe(){if(me)return{id:me,source:St,name:It,fallback:Fo};if(me=A(ko),me)return St=A(Gr)||St,It=A(qr)||It,la(me,St,It),{id:me,source:St,name:It,fallback:Fo};let t=L("config.visitor.id_source"),e=L("config.visitor.id_name"),o=P("visitor_id");if(o&&(St=an.toUpperCase(),It="visitor_id"),t===pa){let r=A(e);r&&(o=r,St=t.toUpperCase(),It=e)}else if(t===ma){let r=v(window,e);r&&(o=r,St=t.toUpperCase(),It=e)}else if(t===an){let r=P(e);r&&(o=r,St=t.toUpperCase(),It=e)}else if(t===da){let r=Xt();r&&(o=r,St=t.toUpperCase(),It=e)}return o||(o=Ct(),Fo=!0),me=o,la(o,St,It),{id:o,source:St,name:It,fallback:Fo}}function Fp(t){(t.overrideSampling||q({name:"error_sampling",allocations:[{percent:.1,value:!0}]}))&&Z(t.message,{status:t.status||"error","error.kind":t.name,"error.message":t.message,"error.stack":t.stack,"usr.id":xe().id,"view.url":P("page_url")||x(),"view.referrer":P("page_referrer_url")||st()}),Y(t.name,t)}function ga(){i.error.sendErrorToServer=Fp}function Bp(t){let e={name:"other",major:0,minor:0};if(/googlebot/.test(t)||/adsbot/.test(t)||/bingbot/.test(t)||/bingpreview/.test(t)||/slurp/.test(t)||/storebot/.test(t)||/spider/.test(t)||/crawler/.test(t)||/yandexbot/.test(t)||/ptst[ \/]/.test(t)||/externalhit/.test(t))return e.name="bot",e;let r=/(msie) ([\w.]+)/.exec(t)||/(ucbrowser)[ \/]([\w.]+)/.exec(t)||/(miuibrowser)[ \/]([\w.]+)/.exec(t)||/(opera mini)[ \/]([\w.]+)/.exec(t)||/(opr)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(t)||/(firefox)[ \/]([\w.]+)/.exec(t)||/(trident)(?:.*? rv:([\w.]+))?/.exec(t)||/(edg)[ \/]([\w.]+)/.exec(t)||/(edge)[ \/]([\w.]+)/.exec(t);if(r){r[1]==="opr"?r[1]="opera":r[1]==="trident"?r[1]="msie":r[1]==="edg"&&(r[1]="edge"),e.name=r[1].replace(/\s+/,"");let n=(r[2]||"").split(/\.|-|_/);e.major=parseInt(n[0],10)||0,e.minor=parseInt(n[1],10)||0}return e}function $p(t){return!!(t.match(/ipad/)||t.match(/android/)&&!t.match(/mobi|mini|fennec/)||t.match(/macintosh/)&&window.navigator.maxTouchPoints>1)}function Mp(t){return!!t.match(/ip(hone|od)|android.+mobile|windows (ce|phone)|blackberry|bb10|symbian|webos|firefox.+fennec|opera m(ob|in)i|tizen.+mobile|polaris|iemobile|lgtelecom|nokia|sonyericsson|dolfin|uzard|natebrowser|ktf;|skt;/)}function Vp(t){return Mp(t)?"mobile":$p(t)?"tablet":"desktop"}function de(t){t=t||"";let e=t.toLowerCase();return{browser:Bp(e),deviceType:Vp(e)}}function Rt(t){let e=new Error(t);return e.name="NotSupportedError",e.status="warn",e.stack=W(e.stack,1),e}function Up(){try{return!new Error("")}catch(t){return t}}function qp(){let t=Up();if(t)throw t.name="NotSupportedError",t.status="warn",t.message="Missing feature: errorConstructor",t}function Gp(){let{browser:t}=de(Q());if(typeof t=="object"){let e=t.name,o=t.major;if(e==="bot"||e==="msie"||e==="edge"&&o<15||e==="firefox"&&o<54||e==="chrome"&&o<42||e==="safari"&&o<10||e==="ucbrowser"||e==="miuibrowser"||e==="opera"&&o<38||e==="operamini")return!1}return!0}function Hp(t){let e=t?.config?.loadBundleWithShopifyWebPixel??!0;return I()?e:!0}function cn(t,e){if(!Gp())throw new Rt("Browser not supported");Hp(t)&&(qp(),e())}function Ke(t,e,o){if(t){let n=(t.options||{}).origEvent||{};clearTimeout(n.timeout),typeof t.callback=="function"&&!n.timeoutReached&&(t.callback(e),typeof o=="function"&&o())}}var Wp=z("bound_events"),Kp=z("triggered_events");function k(t,e,o,r={}){let n={appName:t,eventName:e,callback:o,options:r};Wp.push(`${t}.${e}`,n),w(Kp.get(`${t}.${e}`),s=>{Ke(n,s.data,s.onExec)})}function _t(t,e){let o=new Error(t);return o.name=`${e||""}RequestError`,o.skipNotify=!0,o.stack=W(o.stack,1),o}function Bo(t,e,o){return function(...n){try{return t.apply({},n)}catch(s){o&&o.interval&&clearInterval(o.interval),i.error(s,{appName:e})}}}function jp(t,e,...o){let r={},n=setInterval.apply(window,[Bo(t,this.appName,r),e].concat(o));return r.interval=n,n}function Jp(t,e,...o){return setTimeout.apply(window,[Bo(t,this.appName),e].concat(o))}function Yp(t,e,o,r){let n=o.wrapped||Bo(o,this.appName);o.wrapped=n,t.addEventListener?t.addEventListener(e,n,r):t.attachEvent&&t.attachEvent(e,n)}function Xp(t,e,o,r){o?t.removeEventListener(e,o.wrapped,r):t.removeEventListener(e)}var h={fn:Bo,addListener:Yp,removeListener:Xp,setInterval:jp,setTimeout:Jp};function K(t,e,o,r){function n(s){typeof r=="function"&&r(s)}fetch(t,e).then(s=>{if(s.ok)typeof o=="function"&&o(s);else{let u=`${s.status} ${s.statusText}`;try{s.json().then(c=>{let a=c.errors[0];u=`${a.error_type}: ${a.error_message}`,n(new Error(u))}).catch(()=>{n(new Error(u))})}catch{n(new Error(u))}}}).catch(n)}function U(t,e,o,r){function n(c){let a=new _t(c.message,e.servletName);i.error(a,{customDimensions:{url:t}}),typeof r=="function"&&h.fn(r)(a)}function s(c){if(typeof c!="object"){n(new Error("JSON is not an object"));return}typeof o=="function"&&h.fn(o)(c||{})}function u(c){c.json().then(h.fn(s)).catch(a=>{n(new Error(`Invalid JSON ${a.message}`))})}K(t,e,u,n)}function fn(){let t=Math.round(bo());if(!t||t<1)return"0";if(t<10)return"10";let e="0";return w(`${t}`,(o,r)=>{r===0?e=o:e+="0"}),e}var $o=document.documentElement,_a=window.screen,un=Math.max;function ha(){let t=window?.innerHeight+window?.scrollY||0;return un($o?.offsetHeight,$o?.scrollHeight,t)}function Ea(){return I()?window.outerHeight:_a?.height}function ya(){return I()?window.outerWidth:_a?.width}function le(){return un(window.pageYOffset,$o?.scrollTop)}function wa(){return un($o?.clientWidth,window.innerWidth)}function At(t){try{let e=I()?window.blackcrow.localStorage.get(t):window.localStorage.getItem(t);return JSON.parse(e)}catch{}return null}function zt(t){try{return JSON.parse(window.sessionStorage.getItem(t))}catch{}return null}var pn,mn;function zp(){if(typeof mn<"u")return mn;let t,e=A(Yt);if(e){let o=e.split(".");o.shift(),o.shift(),t=o.join(".")}return mn=t,t}function va(){if(pn)return pn;let t=P("facebook_id")||zp();return pn=t,t}var dn;function Qp(){let t=v(window,"Shopify.checkout.customer_id")||v(window,"ShopifyAnalytics.meta.page.customerId")||v(window,"__st.cid");if(t)return t.toString()}function Sa(){if(dn)return dn;let t=Qp();return dn=t,t}var ln;function Zp(){try{return JSON.parse(window.atob(A(Ro))).$exchange_id}catch{return}}function ge(){if(ln)return ln;let t=Zp();return ln=t,t}function Ia(){return window?.ju_config?.ju_vid}function Aa(){return window?.bouncex?.cookie?.hardID}function xa(){return window?.bouncex?.cookie?.softID}function Lt(t,e){try{e&&(I()?(window.blackcrow.localStorage.set(t,JSON.stringify(e)),browser.localStorage.setItem(t,JSON.stringify(e))):window.localStorage.setItem(t,JSON.stringify(e)))}catch{}}function Qt(t){return`${Math.random().toString(36).substring(2,3)}${btoa(t)}`}function _e(t){return t?atob(t.substring(1)):void 0}function je(t){try{return document.querySelectorAll(`:is(${t})`)}catch{}try{return document.querySelectorAll(`:matches(${t})`)}catch{}try{return document.querySelectorAll(`:-webkit-any(${t})`)}catch{}try{return document.querySelectorAll(`:-moz-any(${t})`)}catch{return[]}}function ba(t){h.addListener(window,"message",e=>{if(e.origin&&e.origin.indexOf(".attn.tv")>0){let o=e.data.__attentive||{};o&&o.email&&t(o.email)}})}function Ta(t){let e=document.getElementById("continue_button"),o=document.querySelectorAll("input[type=email]");e&&o&&h.addListener(e,"click",()=>{t(o[0]&&o[0].value)})}function Mo(){return v(window,"ShopifyCustomer.email")||v(window,"Shopify.checkout.email")||v(window,"Shopify.Checkout.customer.email")}function Pa(){return v(window,"userProperties.email")}function ka(){let t=v(window,"_learnq");if(t&&typeof t.identify=="function")return t.identify().$email}function _n(t){if(t)return t.trim()}function hn(t){return new RegExp(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/).test(t)}function En(t){let e=_n(t);return e&&hn(e)?e:void 0}function yn(t){let e=En(t);return e?Qt(e):void 0}function be(t){let e=yn(t);e&&Lt(Co,e)}function tm(t,e=()=>{}){t.value&&e(t.value)}function em(t,e){let o=t.textContent||t.innerText;return o&&(o=o.toLowerCase()),o&&o.indexOf(e.toLowerCase())!==-1}function gn(t){return em(t,"email")}function om(t){if(t.labels){if(Array.from(t.labels).some(o=>gn(o)))return!0}else if(t.id&&Array.from(document.getElementsByTagName("label")).some(o=>o.htmlFor===t.id&&gn(o)))return!0;if(t.parentNode){let e=t.parentNode;return e.tagName.toLowerCase()==="label"&&gn(e)}return!1}function rm(t){return Array.from(t).filter(o=>om(o))}var Ca='input[type="email"], input[autocomplete~="email"], input[placeholder~="email" i], input[type="text"][id*="email" i], input[type="text"][name*="email" i]';function wn(){let t=je(Ca);if(!t.length){let e=document.querySelectorAll('input[type="text"]');e.length&&(t=rm(e))}return t}function Vo(t=()=>{}){let e=wn();w(e,o=>{tm(o,t)}),h.addListener(window,"focusout",o=>{let r=o.target;if(r.matches(Ca)||Array.isArray(e)&&e.includes(r)){let n=r.value;n&&t(n)}})}function Na(t){let e=Mo()||Pa()||ka();e&&t(e),ba(o=>{t(o)}),Ta(o=>{t(o)}),Vo(o=>{t(o)})}function Oa(t=()=>{}){let e=Mo()||Pa()||ka();return e?(be(e),t()):(ba(o=>{be(o)}),Ta(o=>{be(o)}),Vo(o=>{be(o),t()})),e}function at(){let t=At(Co)||A(Co);return t?_e(t):void 0}function Zt(t,e){var o=(t&65535)+(e&65535),r=(t>>16)+(e>>16)+(o>>16);return r<<16|o&65535}function nm(t,e){return t<<e|t>>>32-e}function Uo(t,e,o,r,n,s){return Zt(nm(Zt(Zt(e,t),Zt(r,s)),n),o)}function tt(t,e,o,r,n,s,u){return Uo(e&o|~e&r,t,e,n,s,u)}function et(t,e,o,r,n,s,u){return Uo(e&r|o&~r,t,e,n,s,u)}function ot(t,e,o,r,n,s,u){return Uo(e^o^r,t,e,n,s,u)}function rt(t,e,o,r,n,s,u){return Uo(o^(e|~r),t,e,n,s,u)}function im(t,e){t[e>>5]|=128<<e%32,t[(e+64>>>9<<4)+14]=e;var o,r,n,s,u,c=1732584193,a=-271733879,g=-1732584194,_=271733878;for(o=0;o<t.length;o+=16)r=c,n=a,s=g,u=_,c=tt(c,a,g,_,t[o],7,-680876936),_=tt(_,c,a,g,t[o+1],12,-389564586),g=tt(g,_,c,a,t[o+2],17,606105819),a=tt(a,g,_,c,t[o+3],22,-1044525330),c=tt(c,a,g,_,t[o+4],7,-176418897),_=tt(_,c,a,g,t[o+5],12,1200080426),g=tt(g,_,c,a,t[o+6],17,-1473231341),a=tt(a,g,_,c,t[o+7],22,-45705983),c=tt(c,a,g,_,t[o+8],7,1770035416),_=tt(_,c,a,g,t[o+9],12,-1958414417),g=tt(g,_,c,a,t[o+10],17,-42063),a=tt(a,g,_,c,t[o+11],22,-1990404162),c=tt(c,a,g,_,t[o+12],7,1804603682),_=tt(_,c,a,g,t[o+13],12,-40341101),g=tt(g,_,c,a,t[o+14],17,-1502002290),a=tt(a,g,_,c,t[o+15],22,1236535329),c=et(c,a,g,_,t[o+1],5,-165796510),_=et(_,c,a,g,t[o+6],9,-1069501632),g=et(g,_,c,a,t[o+11],14,643717713),a=et(a,g,_,c,t[o],20,-373897302),c=et(c,a,g,_,t[o+5],5,-701558691),_=et(_,c,a,g,t[o+10],9,38016083),g=et(g,_,c,a,t[o+15],14,-660478335),a=et(a,g,_,c,t[o+4],20,-405537848),c=et(c,a,g,_,t[o+9],5,568446438),_=et(_,c,a,g,t[o+14],9,-1019803690),g=et(g,_,c,a,t[o+3],14,-187363961),a=et(a,g,_,c,t[o+8],20,1163531501),c=et(c,a,g,_,t[o+13],5,-1444681467),_=et(_,c,a,g,t[o+2],9,-51403784),g=et(g,_,c,a,t[o+7],14,1735328473),a=et(a,g,_,c,t[o+12],20,-1926607734),c=ot(c,a,g,_,t[o+5],4,-378558),_=ot(_,c,a,g,t[o+8],11,-2022574463),g=ot(g,_,c,a,t[o+11],16,1839030562),a=ot(a,g,_,c,t[o+14],23,-35309556),c=ot(c,a,g,_,t[o+1],4,-1530992060),_=ot(_,c,a,g,t[o+4],11,1272893353),g=ot(g,_,c,a,t[o+7],16,-155497632),a=ot(a,g,_,c,t[o+10],23,-1094730640),c=ot(c,a,g,_,t[o+13],4,681279174),_=ot(_,c,a,g,t[o],11,-358537222),g=ot(g,_,c,a,t[o+3],16,-722521979),a=ot(a,g,_,c,t[o+6],23,76029189),c=ot(c,a,g,_,t[o+9],4,-640364487),_=ot(_,c,a,g,t[o+12],11,-421815835),g=ot(g,_,c,a,t[o+15],16,530742520),a=ot(a,g,_,c,t[o+2],23,-995338651),c=rt(c,a,g,_,t[o],6,-198630844),_=rt(_,c,a,g,t[o+7],10,1126891415),g=rt(g,_,c,a,t[o+14],15,-1416354905),a=rt(a,g,_,c,t[o+5],21,-57434055),c=rt(c,a,g,_,t[o+12],6,1700485571),_=rt(_,c,a,g,t[o+3],10,-1894986606),g=rt(g,_,c,a,t[o+10],15,-1051523),a=rt(a,g,_,c,t[o+1],21,-2054922799),c=rt(c,a,g,_,t[o+8],6,1873313359),_=rt(_,c,a,g,t[o+15],10,-30611744),g=rt(g,_,c,a,t[o+6],15,-1560198380),a=rt(a,g,_,c,t[o+13],21,1309151649),c=rt(c,a,g,_,t[o+4],6,-145523070),_=rt(_,c,a,g,t[o+11],10,-1120210379),g=rt(g,_,c,a,t[o+2],15,718787259),a=rt(a,g,_,c,t[o+9],21,-343485551),c=Zt(c,r),a=Zt(a,n),g=Zt(g,s),_=Zt(_,u);return[c,a,g,_]}function sm(t){var e,o="",r=t.length*32;for(e=0;e<r;e+=8)o+=String.fromCharCode(t[e>>5]>>>e%32&255);return o}function am(t){var e,o=[];for(o[(t.length>>2)-1]=void 0,e=0;e<o.length;e+=1)o[e]=0;var r=t.length*8;for(e=0;e<r;e+=8)o[e>>5]|=(t.charCodeAt(e/8)&255)<<e%32;return o}function cm(t){return sm(im(am(t),t.length*8))}function fm(t){var e="0123456789abcdef",o="",r,n;for(n=0;n<t.length;n+=1)r=t.charCodeAt(n),o+=e.charAt(r>>>4&15)+e.charAt(r&15);return o}function um(t){return unescape(encodeURIComponent(t))}function pm(t){return cm(um(t))}function mm(t){return fm(pm(t))}function vn(t){return mm(t)}function te(t){return(L("experiments")||[]).find(o=>o.name===t)||{}}var Ra={checkout_abandonment:"ca",klaviyo_overlay:"ko",sticky_call_to_action:"pb"};function xt(t){let e=te(t);if(!e.name)return e;let o=vt(x());function r(s,u){let c,a;if(Array.isArray(s)&&s.length&&s[0].value&&typeof s[0].percent=="number")c=`${t}_${u}`,a=s;else if(s.allocations){let g=s.name||u;c=`${t}_${g}`,a=s.allocations}if(c&&a){let g=Ra[t]||t,_=s.short_name||u;return q({name:c,allocations:a,force:o[`bcai_${g}_${_}`]})}return s}function n(s,u){if(!s)return s;let c=Array.isArray(s)?[]:{},a;return Object.keys(s).forEach(g=>{let _=u?`${u}_${g}`:g;a=r(s[g],_),c[g]=typeof a=="object"?n(a,_):a}),c}return{name:e.name,active:e.active,data:n(e.data)}}function Sn(){if(xt("pwo_additional_context")?.active){let e=at();if(e)return vn(`${e}bcai${p}`)}}var La=t=>()=>P(t)||zt(t)||At(t)||A(t),qo=t=>()=>A(t),ct=(t,e)=>{let o;return()=>(o=o||e(),{platform:t,id:o})},dm=ct("fa",va),lm=ct("ga",Xt),gm=ct("cdp",La("cdp_id")),_m=ct("shop_cid",Sa),hm=ct("shop_aid",qo("_shopify_y")),Em=ct("kl_cid",ge),ym=ct("attv_cid",qo("__attentive_id")),wm=ct("ju_cid",Ia),vm=ct("bx_hid",Aa),Sm=ct("bx_sid",xa),Im=ct("tab_cid",La("taboola global:user-id")),Am=ct("bc_cid",qo(Ue)),xm=ct("_bc_i",Ct),bm=ct("_bt_uid",qo("tag_user_id")),Tm=ct("_bc_em",Sn);function In(){return[dm(),lm(),gm(),_m(),hm(),Em(),ym(),Im(),Am(),xm(),wm(),vm(),Sm(),bm(),Tm()]}var Da;function An(){return Da||A(Vr)||void 0}function Fa(t){t&&(Da=t,V(Vr,t,1051200))}function Ba(){let t=An()?.split("_",3);if(t)return{page_correlation_id:t[0],session_id:t[1]};i.error(new Ae("Attempted to parse historyId before it has been set!"))}var Je=z("page"),Pm={page:{ignored:!1,log_purchase:!1}};function $a(t){return{page:{ignored:t.ignored,log_purchase:t.log_purchase}}}function Ma(t={},e){let o=P("page_id"),r=Pm;o!==void 0&&t?w(t.filter(c=>c.pageName),c=>{if(c.pageName===o)return r=$a(c),!1}):o===void 0&&t&&w(t.filter(c=>c.pattern),c=>{try{let a=e.match(c.pattern);if(a){if(o=c.pageName,r=$a(c),a.length>1)for(let g=1;g<a.length;g+=1)o=o.replace(`$${g}`,a[g]);return!1}}catch{}}),o||(o="other");let n=Je.get("lastUrl"),s=Je.get("lastId"),u=o!==s||e!==n;return Je.set("lastUrl",e),Je.set("lastId",o),{id:o,config:r,isNewPage:u,currentUrl:e,lastUrl:n}}function bt(){return Je.get("lastId")}var Va={};function Ua(t){Va=t}function qa(t,e,o){let r={};return w(Va,(n,s)=>{typeof n=="function"?r[s]=n(t[s],e,o):typeof n<"u"&&(r[s]=n)}),r}function km(t,e){return e||(t==="_shopify_y"?"aid":t)}function Cm(t){let e,o=t.value,r=t.nameOverride,n=A(o);return o&&n&&(e={name:km(o,r),value:n}),e}function nt(t){let e=[];return t.forEach(o=>{if(o.source==="cookie"){let n=Cm(o);n&&e.push(n)}}),e}function Tt(t,e){let o=[];return t&&e&&o.push({name:t,value:e}),o}function Nm(){let t="0123456789abcdef";return t.charAt(Math.floor(Math.random()*t.length))}function Ye(t){return new Array(t).fill(".",0,t).map(()=>Nm()).join("")}function Xe(){return`${Ye(8)}-${Ye(4)}-${Ye(4)}-${Ye(4)}-${Ye(12)}`}function Te(t){return t!==void 0?(t*.01).toLocaleString("en-US",{currency:"USD",minimumFractionDigits:2,useGrouping:!1}):void 0}function ze(t){return t?typeof t=="string"?Te(t.replace(/\D/g,"")*1):t.toString():"0.00"}function Go(t){let[e]=nt(t);if(e?.value)return{external_id:e.value}}function Ga(){let t=document.getElementById("shopify-pay-alternate-title");if(v(window,"ShopifyPay")&&t)return{custom_dimensions:{payment_type:"shop-pay"}};if(v(window,"Shopify.checkout")){let e=document.getElementsByClassName("payment-icon");if(e.length&&e[0].textContent)return{custom_dimensions:{payment_type:e[0].textContent.trim()}}}}function xn(){let t={},e=v(window,"Shopify.checkout");if(e&&(S(t,{event_id:e.order_id,total_price:ze(e.total_price),currency:e.presentment_currency,shipping_method:e.shipping_rate?.title,shipping_price:ze(e.shipping_rate?.price),cart:e.line_items&&e.line_items.map(o=>({id:o.product_id,price:ze(o.price),quantity:o.quantity,categories:[o.title],msrp:ze(o.line_price),color:o.variant_title,brand:o.vendor}))}),e.discount)){let o=e.discount;S(t,{discounts:[{code:o.code,discount_amount:o.amount,discount_currency:e.currency,discount_percent:o.rate,applicable:o.applicable,reason:o.reason}]})}return t}function bn(t){return{destination_airport:t.destination_airport,destination_city:t.destination_city,destination_country:t.destination_country,destination_state:t.destination_state,end_date:t.end_date,lodging_id:t.lodging_id,origin_airport:t.origin_airport,rooms:t.rooms,start_date:t.start_date,travelers:t.travelers}}function Tn(){return P("partner_controlled_experiments")}var Om=.1,Ha=q({name:"performance_sampling",allocations:[{percent:Om,value:!0}]});function Qe(t=`${m}js/core/`){try{let e=jt("resource").find(o=>o.name.includes(t));return e&&e.startTime}catch{i.error(new Rt("Unable to get start time: Browser does not support PerformanceResourceTiming interface"));return}}function Rm(){try{let t=jt("resource").find(e=>e.name.includes("gtm.js"));return t&&t.startTime}catch{i.error(new Rt("Unable to get start time: Browser does not support PerformanceResourceTiming interface"));return}}function Wa(){try{let t=jt("resource").find(e=>e.name.includes(`${m}js/core/`));if(t){let{name:e}=t;if(e.includes("shopify-init"))return"SHOPIFY";if(e.includes("source=gtm"))return"GTM"}return"JS"}catch{i.error(new Rt("Unable to get start time: Browser does not support PerformanceResourceTiming interface"));return}}function Lm(){let t=Qe(),e=Wa();if(t&&e==="GTM"){let o=Rm();if(o)return t-o}}function Dm(){try{let t=jt("resource").find(e=>e.name.includes("https://api.blackcrow.ai/v1/events/view"));return t&&t.startTime}catch{i.error(new Rt("Unable to get time to view request: Browser does not support PerformanceResourceTiming interface"));return}}function Ka(){if(Ha){let t=Qe(),e=Wa()||"unknown",o=e==="GTM"?Lm()||"unknown":"N/A";t&&Z(`Initial script load after ${t} ms`,{"script.start_time":t,"script.load_method":e,"script.time_since_gtm_start":o,"view.url":P("page_url")||x(),"view.referrer":P("page_referrer_url")||st()})}}function ja(){if(Ha){let t=Dm()-Qe();t&&Z(`Time to initiate view request: ${t} ms`,{"script.time_to_view":t,"view.url":P("page_url")||x(),"view.referrer":P("page_referrer_url")||st()})}}function Ja(){return{nb:{active:!!window.Northbeam},tw:{active:!!window.TriplePixel},bt:{active:!!window.edgetag}}}var T={VIEW:"view",PURCHASE:"purchase",DELAYED_PURCHASE:"delayed_purchase",BAD_ACTOR_TIMEOUT:"bad_actor_timeout",BAD_ACTOR_BEFOREUNLOAD:"bad_actor_beforeunload",PWO_IMPR:"pwo_impression",PWO_EMAIL_LEAD:"pwo_email_lead",PWO_SMS_LEAD:"pwo_sms_lead",PWO_CLOSE:"pwo_close",PWO_OPEN_ATTEMPT:"pwo_open_attempt",PWO_DECISION:"pwo_decision",CA_CART_CHECKOUT:"ca_cart_checkout",CA_PAYMENT:"ca_payment",CA_SHIPPING_EXIT:"ca_shipping_exit",CA_TEST:"ca_test",DEVICE_MOTION:"device_motion",DISCOUNT_APPLIED:"discount_applied",DISCOUNT_INTERACTION:"discount_interaction",MARKETING_CHECKOUT_EVENT:"marketing_checkout_event",KLAVIYO_OPEN:"klv_open",KLAVIYO_CLOSE:"klv_close",KLAVIYO_LEAD:"klv_lead",KLAVIYO_SPLIT:"klv_split",PRED_WELCOME_PLATFORM_LOADED:"pred_welcome_platform_loaded",OUT_OF_STOCK:"out_of_stock",PAYMENT_METHOD_CLICK:"payment_method_click",HEADER_CLICK:"header_click",PREDICTIVE_BUTTON:"predictive_button",PREDICTIVE_BUTTON_DECISION:"predictive_button_decision",PRED_WELCOME_DECISION:"pred_welcome_decision",EXIT_INTENT:"exit_intent",RB_ACTIVE:"rb_active",PRED_WELCOME_OPEN_ATTEMPT:"pred_welcome_open_attempt",PRED_WELCOME_OPEN_LISTENER_SET:"pred_welcome_open_listener_set"};function Ho(){return{api_client_type:"JS",api_client_version:"12173",api_client_source:$r()}}function Dt(t){let e=P(`custom_${t}`);return typeof e=="object"?Array.isArray(e)?String(e):JSON.stringify(e):e}function Fm(t,...e){return t=t||{},w(e,o=>{w(o,(r,n)=>{(r||r===0||r===!1)&&(t[n]=r)})}),t}function Bm(){return{coupon:P("coupon"),shipping_method:P("shipping_method"),shipping_price:P("shipping_price"),total_price:P("total_price"),zip_code:P("zip_code"),custom_1:Dt(1),custom_2:Dt(2),custom_3:Dt(3),custom_4:Dt(4),custom_5:Dt(5),custom_6:Dt(6),custom_7:Dt(7),custom_8:Dt(8),custom_9:Dt(9),custom_10:Dt(10),traffic_groups:P("traffic_groups"),partner_controlled_experiments:Tn(),referrer_source:P("referrer_source"),referrer_medium:P("referrer_medium"),referrer_campaign:P("referrer_campaign"),referrer_term:P("referrer_term"),cart:P("cart"),currency:P("currency"),is_logged_in_user:P("user_is_logged_in"),user_has_subscription:P("user_has_subscription")}}function $m(t){let e=xe();return{metadata:Ho(),build:"12173",site_name:p,custom_dimensions:P("custom_dimensions"),device_info:Q(),device_width:ya(),device_height:Ea(),page_id:t,page_url:P("page_url")||x(),page_referrer_url:P("page_referrer_url")||st(),page_title:P("page_title")||Ie(),page_time:fn(),visitor_id:e.id,internal_id:Ct(),member_id:P("member_id"),history_id:An(),user_identifiers:In(),user_metadata:{visitor_id:{source:e.source,name:e.name,fallback_used:e.fallback}},bundle_load_start:Qe(),attr:Ja()}}function Mm(t){return t?["view","purchase","delayed_purchase"].includes(t):!0}function Vm(t){return t?["view","purchase"].includes(t):!0}function Um(t){return t?t==="purchase":!0}var qm={travel:bn};function Gm(){let t={};return w(qm,(e,o)=>{let r=P(`${o}`);r&&(t[o]=e(r))}),t}function Hm(t){["custom_dimensions","event_id"].forEach(o=>{t[o]===void 0&&(t[o]="")})}function Wm(t){return[T.PWO_DECISION,T.PWO_OPEN_ATTEMPT,T.PWO_IMPR,T.PWO_EMAIL_LEAD,T.PWO_SMS_LEAD,T.PWO_CLOSE].includes(t)}function Pn(t,e={}){let o=e.page_id||bt(),r=$m(o);return Mm(t)&&(r={...r,...Bm()},S(r,Gm(),xn())),Um(t)&&r.purchase_type===void 0&&(r.purchase_type=""),Wm(t)&&(r={...r,...e}),Hm(r),w(r,(n,s)=>{typeof e[s]<"u"&&(r[s]=e[s])}),Vm(t)||S(r,{custom_dimensions:Ba()}),Fm({},r,qa(r,t,o))}var Km=500,kn={},Cn={};function Nn(){Cn={},kn={}}function Ya(t){return Cn[t]||0}function jm(t){let e=!1,o=t==="view"?1:L(`config.events.${t}.dedupe.limit_per_page`);return o&&(e=Ya(t)>=o),e?"limit_per_page":""}function Jm(t,e){return t.startsWith("datalayer-")||[T.PREDICTIVE_BUTTON,T.KLAVIYO_OPEN].includes(t)?"":e-(kn[t]||0)<Km?"debounce":""}function Ym(t,e,o){let r="",n=e.event_id,s=L(`config.events.${t}.dedupe.time_threshold`);if(n||s){let u=At(Ur)||{},c=u[t]||{};s&&o-(c.time||0)<parseInt(s,10)&&(r="time_threshold"),!r&&n&&n===c.id&&(r="repeat_id"),r||(u[t]={time:o,id:n},Lt(Ur,u))}return r}function Xa(t,e){let o=Date.now(),r=Jm(t,o)||jm(t)||Ym(t,e,o);return r||(Cn[t]=Ya(t)+1,kn[t]=o),r}function Pe(t=""){let e=typeof t=="string"?t:JSON.stringify(t);return new Blob([e]).size}function On(t,e){let o=new Error(t);return o.name=`${e||""}RequestError`,o.stack=W(o.stack,1),o}var Rn="EventsAPI",za=8192;function Qa(t,e){Pe(t)>za&&i.error(new On(`Body for ${e} exceeds ${za} bytes`),Rn)}function O(t,e,o,r){let n=`https://api.blackcrow.ai/v1/events/${t}?`;Vt(p)&&(n=`https://api.sandbox.blackcrow.ai/v1/events/${t}?`);let s=Pn(t,e),u=Xa(t,s);if(u){i.error(new _t(`Duplicate ${t}: ${u}`,Rn));return}let c=JSON.stringify(s);Qa(c,`event ${t}`);let a={servletName:Rn,method:"POST",cache:"no-cache",body:c};Y(`request: ${t}`,{body:c}),U(n,a,o,r)}function Za(t){let e="https://api.blackcrow.ai/v1/events/platform?";Vt(p)&&(e="https://api.sandbox.blackcrow.ai/v1/events/platform?");let o=JSON.stringify(t);Qa(o,"platform event"),Jt(e,o)}var E={START:"start",SESSION:"session",SET:"set",EXTEND:"extend",REFRESH:"refresh",PARTNER_EVENT:"partner_event",VIEW:"view",VIEW_RESPONSE:"view_response",PURCHASE:"purchase",SCORES_UPDATE:"scores_update",PWO_IMPR:"pwo_impression",PWO_EMAIL_LEAD:"pwo_email_lead",PWO_SMS_LEAD:"pwo_sms_lead",PWO_CLOSE:"pwo_close",PWO_OPEN_ATTEMPT:"pwo_open_attempt",OVERRIDES:"overrides",CLEAR_OVERRIDES:"clear_overrides",DISCOUNT_APPLIED:"discount_applied",DISCOUNT_INTERACTION:"discount_interaction",OUT_OF_STOCK:"out_of_stock",CA_CART_CHECKOUT:"ca_cart_checkout",CA_PAYMENT:"ca_payment",CA_SHIPPING_EXIT:"ca_shipping_exit",HEADER_CLICK:"header_click",KLAVIYO_OPEN:"klv_open",KLAVIYO_CLOSE:"klv_close",KLAVIYO_LEAD:"klv_lead",PAYMENT_METHOD_CLICK:"payment_method_click",PREDICTIVE_BUTTON:"predictive_button",EXIT_INTENT:"exit_intent",RB_ACTIVE:"rb_active",PRED_WELCOME_PLATFORM_LOADED:"pred_welcome_platform_loaded",ADD_TO_CART:"add_to_cart",INITIATE_CHECKOUT:"initiate_checkout"};var Xm=["purchase","referral","call","update_account"],zm=["purchase","referral","call"];function tc(t){return Xm.indexOf(t)!==-1}function Qm(t){let e=t.trigger,o=t.data||{};e==="call"&&(o.purchase_type="call"),zm.indexOf(e)!==-1&&(e=T.PURCHASE),O(e,o)}function ec(){k("platform",E.PARTNER_EVENT,Qm)}function Ln({appName:t,eventName:e,data:o,sendFn:r}){let n={namespace:f,app_name:t,event_name:e,data:o};if(r)r(n,"*");else try{window.top.postMessage(n,"*")}catch(s){if(s instanceof DataCloneError)i.error(new Rt("Attempting to post invalid message object"));else throw s}}var Zm=z("bound_events"),td=z("triggered_events");function it(t,e,o,r){r=r||{},r.noCache||td.push(`${t}.${e}`,{data:o,onExec:r.onExec});let n=Zm.get(`${t}.${e}`);w(n,s=>{Ke(s,o,r.onExec)}),r.postMessage&&Ln({appName:t,eventName:e,data:o})}function F(t,e=()=>{},o=9,r=300,n=!1){try{return t()}catch(s){return o?h.setTimeout(()=>F(t,e,o-1,n?r*2:r,n),r):e(s)}}function ed(){I()||(i.postMessageEventListener&&h.removeListener(window,"message",i.postMessageEventListener),i.postMessageEventListener=t=>{let e=t.data||{};e.namespace===f&&(Y(`trigger: ${e.event_name}`,e.data),it(e.app_name||"platform",e.event_name,e.data))},h.addListener(window,"message",i.postMessageEventListener))}function ke(t){if(!t)return;let e=t.app_name||"platform",o=t.data,r=t.trigger;if(r){Y(`trigger: ${r}`,t),r===E.EXTEND?Lo(o):r===E.SET?Do(o):tc(r)?it(e,E.PARTNER_EVENT,t):it(e,r,o);return}let n=t.bind;if(n){Y(`bind: ${n}`,t),k(e,n,t.callback,{origEvent:t});return}Y("unrecognized",t)}function oc(){w(d,t=>{ke(t)})}function rc(){return F(()=>ed(),t=>i.error(t)),ke}function Dn(){rc(),i.push=ke,i.history=na}var nc="IntentProperties";function Ut(t){return t?v(window[nc],t):window[nc]}function Fn(){let t=Ut();if(t){let e={page_id:t.page_id,visitor_id:t.visitor_id||t.publisher_user_id,member_id:t.member_id,user_is_logged_in:t.is_logged_in_user,user_has_subscription:t.user_has_subscription,page_url:t.page_url,page_referrer_url:t.page_referrer_url,page_title:t.page_title,referrer_source:t.referrer_source,site_currency:t.site_currency,site_country:t.site_country,site_language:t.site_language,site_name:t.site_name,traffic_groups:t.traffic_groups,custom_1:t.site_custom_1,custom_2:t.site_custom_2,custom_3:t.site_custom_3,custom_4:t.site_custom_4,custom_5:t.site_custom_5,custom_6:t.site_custom_6,custom_7:t.site_custom_7};t.cart&&(e.cart=t.cart),t.travel&&(e.travel=S({},{start_date:t.travel.start_date,end_date:t.travel.end_date,origin_airport:t.travel.origin_airport,destination_airport:t.travel.destination_airport,travelers:t.travel.travelers})),ke({trigger:E.EXTEND,data:e})}}var od=z("bound_events"),rd=z("triggered_events");function Bn(){od.clear(L("config.clearBindings")),rd.clear()}function Ze(){let t=v(window,"Shopify.checkout.total_tax");if(t)return t;let e=document.querySelectorAll("[data-checkout-total-taxes-target]");return e.length?e[0].textContent.startsWith("$")?e[0].textContent.trim().substring(1):e[0].textContent.trim():"0.00"}function C(t){/complete|interactive|loaded/.test(document.readyState)?t():h.addListener(document,"DOMContentLoaded",()=>{t()})}function nd(){return{total_price:Ut("total_price"),coupon:Ut("coupon"),shipping_method:Ut("shipping_method"),shipping_price:Ut("shipping_price"),zip_code:Ut("zip_code")}}function ic(){let t=Ga(),e={custom_dimensions:{tax_amount:window.Shopify?Ze():void 0},total_price:window.cart_json?.total_price};return S({},t,e)}function id(){window.IntentProperties&&Lo(nd()),V(Ys,!0,1051200),O(T.PURCHASE,ic())}function $n(){L("page.log_purchase")&&(id(),C(()=>{O(T.DELAYED_PURCHASE,ic())}))}function ac(t){h.addListener(window,"message",e=>{if(e.origin&&e.origin.indexOf(".attn.tv")>0){let o=e.data.__attentive||{};o&&o.phone&&t(`+1${o.phone}`)}})}function cc(t){let e=document.getElementById("continue_button"),o=document.querySelectorAll("input[type=tel]");e&&o&&h.addListener(e,"click",()=>{if(o[0]){let r=o[0].value;t(r)}})}function fc(){return v(window,"Shopify.checkout.phone")}function uc(){let t=v(window,"_learnq");if(t&&typeof t.identify=="function")return t.identify().$phone}function sd(t){let e=t.match("\\+")?t:`+1${t}`;return e=e.replace(/^(\+)|\D/g,"$1"),e}function ad(t){return new RegExp(/^\+\d{10,14}$/g).test(t)}function Mn(t){let e=sd(t);return ad(e)?Qt(e):void 0}function Wo(t){let e=Mn(t);e&&Lt(No,e)}function cd(t,e=()=>{}){t.value&&e(t.value)}var sc='input[type="tel"], input[autocomplete~="tel"], input[type="text"][id*="phone" i], input[type="text"][name*="phone" i]';function pc(t=()=>{}){let e=je(sc);w(e,o=>{cd(o,t)}),h.addListener(document,"focusout",o=>{let r=o.target;if(r.matches(sc)){let n=r.value;n&&t(n)}})}function mc(t){let e=fc()||uc();e&&t(e),ac(o=>{t(o)}),cc(o=>{t(o)}),pc(o=>{t(o)})}function dc(t=()=>{}){let e=fc()||uc();return e?(Wo(e),t()):(ac(o=>{Wo(o)}),cc(o=>{Wo(o)}),pc(o=>{Wo(o),t()})),e}function Ko(){let t=At(No)||A(No);return t?_e(t):void 0}function Ft(){return!!v(window,"Shopify")}function to(){return Ft()&&X()?.includes("products")}function fd(){return Ft()&&X()==="/"}function ee(){return!!v(window,"Shopify.Checkout")}function ud(){let t=v(window,"Shopify.Checkout.isOrderStatusPage"),e=v(window,"Shopify.checkout");return t!==void 0||e!==void 0}function oe(){return v(window,"Shopify.Checkout.currency")||v(window,"cart_json.currency")||v(window,"Shopify.currency.active")||v(window,"afterpay_shop_currency")}function jo(){return v(window,"Shopify.Checkout.totalPrice")?.toString()}function Pt(){if(!Ft())return;let t=v(window,"Shopify.Checkout.step");if(t)switch(t){case"payment_method":return"payment";case"shipping_method":return"shipping";case"contact_information":return"contact";case"thank_you":return"confirmation";default:return t}return ud()?"order_status":to()?"products":fd()?"index":X()}function pd(t){let e=document.getElementById("continue_button"),o=document.getElementById("checkout_shipping_address_first_name"),r=document.getElementById("checkout_shipping_address_last_name");e&&o&&r&&h.addListener(e,"click",()=>{t(o.value,r.value)})}function lc(){pd((t,e)=>{Lt(Kr,Qt(t)),Lt(jr,Qt(e))})}function gc(){let t=At(Kr);return t?_e(t):void 0}function _c(){let t=At(jr);return t?_e(t):void 0}function md(t){if(t)return t.replace(/['.,/#!$%^&*;:{}=\-_`~()]/g,"")}function Jo(t){let e=md(t);return e?Qt(e):void 0}function dd(t,e){let o=t[e];if(o){let{first_name:r,last_name:n}=o;if(n){let s={fn:r,ln:n};return r&&(s.fln=`${r} ${n}`),S({},s)}}}function hc(){let t=[],e=Ft()&&v(window,"Shopify.checkout");return e&&["billing_address","credit_card","shipping_address"].forEach(o=>{let r=dd(e,o);r&&t.push(r)}),t.length?t:void 0}function kt(t,e){let o=document.createElement(t);return Object.keys(e).forEach(n=>{o[n]=e[n]}),o}function Ec(t,e){let o=encodeURIComponent(t);return e&&(o=o.replace(/%2C/g,",")),o}function ft(t,e=!0){let o=[];return w(t,(r,n)=>{if(r!=null&&r!==""){let s=typeof r;s==="function"?r=r.name:s==="object"&&(Array.isArray(r)?r=r.toString():r=JSON.stringify(r)),o.push(`${Ec(n,e)}=${Ec(r,e)}`)}}),o.join("&")}function Vn(t){if(!t||!crypto||!crypto.subtle||typeof crypto.subtle.digest!="function")return Promise.resolve(void 0);let e=new TextEncoder().encode(t);return crypto.subtle.digest("SHA-256",e).then(o=>Array.from(new Uint8Array(o))).then(o=>o.map(r=>r.toString(16).padStart(2,"0")).join(""))}function Yo(t){let e=Object.keys(t).map(o=>Vn(t[o]).then(r=>{t[o]=r}));return Promise.all(e).then(()=>S({},t))}var ld="facebook_ads";function Xo(){let t=Ko(),e={em:at(),ph:t&&t.replace(/\D/g,""),fn:gc(),ln:_c()};return S({},e)}function yc(t,e,o){let r=`https://www.facebook.com/tr?id=${t}&ev=${e}`;return Yo(Xo()).then(n=>{w(n,(s,u)=>{r+=`&ud[${u}]=${s}`})}).then(()=>{w(o,(s,u)=>{r+=`&cd[${u}]=${s}`});let n=A(Yt);return n&&(r+=`&fbp=${n}`),r})}function wc(t,e,o){return yc(t,e,o).then(r=>{let n=kt("img",{width:1,height:1,src:r});n.style.display="none",document&&document.body&&typeof document.body.append=="function"&&document.body.append(n)})}function Un(t,e,o,r){return yc(t,e,o).then(n=>{n+="&",n+=ft({dl:x(),rl:document.referrer}),F(()=>{K(n,{method:"GET"},r,s=>{throw s})},s=>i.error(new Error(`${ld} api call failed with message ${s.message}`)),9,300,!0)})}var re="measure";function D(t,e="|"){return t.filter(o=>o!=null&&o!=="").join(e)}function B(t){let e=Number(t);return isNaN(e)?t:e}function vc(t){let e=`${t}`;return e.length===1?`0${e}`:e}function zo(t,e=""){if(t)return`${t.getFullYear()}${e}${vc(t.getMonth()+1)}${e}${vc(t.getDate())}`}function Qo(){return window.ShopifyAnalytics&&window.ShopifyAnalytics.lib&&window.ShopifyAnalytics.lib.config&&window.ShopifyAnalytics.lib.config["Facebook Pixel"]&&window.ShopifyAnalytics.lib.config["Facebook Pixel"].conversionsAPIEnabled}var b="Integration not available";var Sc=0;function eo(){return Sc+=1,Sc}function qn(t,e){return typeof t=="string"&&typeof e=="string"?t.localeCompare(e,void 0,{sensitivity:"accent"})===0:t===e}function Gn(t,e="PWO",o=["formBuckets","overlayBuckets","overlayBuckets_triggerBuckets","overlayBuckets_triggerBuckets_formBuckets"]){if(t?.overlaySetting===void 0||t?.overlaySetting===null)return t;let r=vt(x());function n(u,c){let a,g;if(Array.isArray(u)&&u.length){let _=JSON.parse(JSON.stringify(u));typeof _[0].percent!="number"&&o.includes(c)&&(_[0].percent=1),typeof _[0].percent=="number"&&(a=`${e}_${c}`,g=_.map(y=>({percent:y.percent,value:{...y}})))}if(a&&g){let _=e,y=u.short_name||c;return q({name:a,allocations:g,force:r[`bcai_${_}_${y}`]})}return u}function s(u,c){if(u==null)return u;let a=Array.isArray(u)?[]:{},g;return Object.keys(u).forEach(_=>{let y=c?`${c}_${_}`:_;g=n(u[_],y),a[_]=typeof g=="object"?s(g,y):g}),a}return{...t,overlaySetting:s(t.overlaySetting)}}function Ic(t){let e=t?.formBuckets?.formConfig;return t?.overlayBuckets?.triggerBuckets?.formBuckets?.formConfig!==void 0&&Object.keys(t.overlayBuckets.triggerBuckets.formBuckets.formConfig).length>0&&(e=t.overlayBuckets.triggerBuckets.formBuckets.formConfig),{formId:de(Q()).deviceType==="mobile"?e?.mobile:e?.desktop,profile:e?.profile}}function qt(t){if(t){let e=L("apps")||[];if(e)return e.find(o=>qn(o.app,t))||{}}return{}}function Zo(t){let e=qt(t).platforms||[],o=[];return e.forEach(r=>{o.push(r.platform.toLowerCase())}),o}function M(t,e){if(t&&e){let o=qt(t);if(o)return(o.platforms||[]).find(s=>qn(s.platform,e))||{}}return{}}function Ce(t){return t?Gn(qt(t),t).overlaySetting||{}:{}}function ne(t){return t?qt(t).identitySetting||{}:{}}function R(t){let e=new Error(t);return e.name="GlobalInterfaceError",e.status="warn",e.stack=W(e.stack,1),e}function Hn(){(function(t,e,o,r,n,s,u){t.fbq||(n=t.fbq=function(){n.callMethod?n.callMethod.apply(n,arguments):n.queue.push(arguments)},t._fbq||(t._fbq=n),n.push=n,n.loaded=!0,n.version="2.0",n.queue=[],s=e.createElement(o),s.async=!0,s.src=r,u=e.getElementsByTagName(o)[0],u.parentNode.insertBefore(s,u))})(window,document,"script","https://connect.facebook.net/en_US/fbevents.js")}function tr(t){return e=>{e.message===b?i.error(new R(t)):i.error(e)}}function er(t,e){I()||(Hn(),window.fbq("init",t,e))}var Ne="facebook_ads",xc="trackCustom";function bc(t,e){window.fbq("init",t,e),Fc({location:"init"},"FB init event not sent")}function Tc(t){if(typeof window.fbq!="function"||typeof window.fbq.getState!="function")throw new Error(b);if(typeof window.fbq.getState().then=="function")window.fbq.getState().then(({pixels:e})=>{e&&e.length>0&&t(e)});else if(window.fbq.getState().pixels&&window.fbq.getState().pixels.length>0)t(window.fbq.getState().pixels);else throw new Error(b)}function or(){return L("facebookAccounts")||[]}function Pc(t){return t===void 0?Qo():t}function Wn(){return D([f,"validation"])}function kc(t){t.forEach(e=>{let o=e.pixelId,r=e.advancedMatching;if(o){let n=Pc(r)?Xo():{};I()?Un(o,Wn(),n):bc(o,n)}})}function gd(t,e){let o=or();o.length&&kc(o,!0),e()}function _d(t,e){Hn();let o=or();function r(){Tc(n=>{n.forEach(s=>{Pc()&&bc(s.id,Xo())})})}F(()=>{if(typeof window.fbq!="function")throw new Error(b);o.length?kc(o):r(),e()},tr(`${Ne} globals not found`))}function Cc(t,e,o){return function(){typeof t=="function"&&t(Ne,{eventName:e,eventObject:o})}}function Nc(t,e,o,r){let n=Cc(r,e,o),s=or();s.length&&s.forEach(u=>{let c=u.pixelId;Un(c,e,o,n)})}function Oc(t,e,o,r){let n=Cc(r,e,o);Tc(()=>{window.fbq(xc,e,o),n()})}function hd(t,e){or().forEach(r=>{let n=r.pixelId;n&&wc(n,t,e)})}function Rc(t,e,o,r){return n=>(hd(t,e),typeof r=="function"&&r(`${Ne}`,{eventName:t,eventObject:e},"score_push_img_pixel"),o(n))}function Ed(t){return`${f}_${t}`}function yd(t,e,o){let r;return t===re?r=D([f,o],"_"):r=D([e,o]),r}function wd(t,e){return{app_name:t,integration_product:e.integration_product,conversion_product:e.conversion_product,conversion_type:e.conversion_type,comparison_population:e.comparison_population,comparison_group:e.comparison_group,comparison_type:e.comparison_type,threshold_setter:e.threshold_setter,threshold_group_count:e.threshold_group_count,score:B(e.score),event_date:zo(new Date,"-"),eventDate:zo(new Date)}}function Lc(t,e){let o=Ed(t);return{eventName:yd(t,o,e.integration_product),eventObject:wd(o,e)}}function vd(t,e,o){if(!t)return;let r=Lc(e,t);Nc(e,r.eventName,r.eventObject,o)}function Sd(t,e,o){if(!t)return;let r=Lc(e,t),n=r.eventName,s=r.eventObject;F(()=>Oc(e,n,s,o),Rc(n,S({},s,{eventHitId:eo()}),tr(`${Ne} globals not found`),o),80,150)}function Dc(){let t=M("target",Ne);return t&&Object.keys(t).length>0}function Id(t){if(Dc()){let e=Wn();Nc("target",e,S({},t,{eventHitId:eo()}))}}function Fc(t,e){if(Dc()){let o=Wn();F(()=>Oc("target",o,S({},t,{eventHitId:eo()})),Rc(o,S({},t,{eventHitId:eo()}),tr(e),80,150))}}function Ad(t,e,o){I()?vd(t,e,o):Sd(t,e,o)}function Ac(t,e){I()?gd(t,e):_d(t,e)}function xd(t,e){I()?Id(t):Fc(t,e)}var Bt={eventHitType:xc,name:Ne,identify:Ac,setup:Ac,send:Ad,sendValidationEvent:xd};var ht="audience";function ut(t){return on(`apps.${t}`)}var Bc="o",$c=`${f}_audience|score_update`,Kn=`${f}_score`,Mc=`contextData.${Kn}`;function H(t,e){return(o,r,n)=>{if(!o)return;function s(u){u.message===b?i.error(new R(`${t} globals not found`),{appName:r}):i.error(u)}F(()=>e(o,r,n),s)}}var jn="adobe_analytics";function Td(t,e,o){let r=v(window,"s.tl");if(typeof r=="function"){let n={contextData:{[Kn]:B(t.score)},linkTrackVars:Mc};r(!0,Bc,$c,n),typeof o=="function"&&o(jn,n);return}throw new Error(b)}var Jn={name:jn,send:H(jn,Td)};var Vc="event";var Yn="dynamic_yield";function Pd(t){return t==="1"?"low":t==="2"?"medium":"high"}function kd(t,e,o){let r=v(window,"DY.API"),n;t.threshold_group_count==="3"&&(n=Pd(t.score));let s=D([f,t.comparison_group.toLowerCase(),n||`score_${t.score}`]);if(typeof r=="function"){let u=B(t.score);r(Vc,{name:s,properties:{}}),typeof o=="function"&&o(Yn,{EVENT_PREFIX:`${f}_${e}`,score:u})}else throw new Error(b)}var Xn={name:Yn,send:H(Yn,kd)};function oo(t){let e=new Error(t);return e.name="ConfigDataError",e.status="warn",e.stack=W(e.stack,1),e}var qc="event",ro="owox",rr=[];function Cd(t){let e=Xt();if(e)t(e);else throw new Error(b)}function Uc(t,e,o,r){t.cid=e,t.z=Date.now(),K(`https://google-analytics.bi.owox.com/${o}?${ft(t)}`,{method:"GET"},()=>r(ro,t))}function Nd(t,e,o){let r=window.GoogleAnalyticsObject?window[window.GoogleAnalyticsObject]:window.ga,s=M(e,ro).tracking_id;if(typeof r=="function"){let u=h.setTimeout(()=>{i.error(new R(`${ro} ready hook not fired`))},5e3);r(c=>{if(clearTimeout(u),s=s||c&&c.get("trackingId"),s||w(r.getAll(),a=>{let g=a.get("trackingId");if(g)return s=g,!1}),s){if(!t)return;let a=`${f}_${e}`,g=D([a,t.integration_product,t.conversion_product,t.conversion_type]),_=D([t.comparison_type,t.threshold_setter,t.threshold_group_count,t.comparison_population,t.comparison_group]);rr.push({v:1,ni:1,t:qc,tid:s,dl:x(),ec:g,ea:_,el:B(t.score)}),Array.isArray(rr)&&F(()=>Cd(y=>{let N=rr;rr={push:$=>{Uc($,y,s,o)}},N.forEach($=>{Uc($,y,s,o)})}))}else i.error(new oo(`${ro} tracking id not found`))})}}var zn={eventHitType:qc,name:ro,send:Nd};var Od=q({name:"kpi_sampling",allocations:[{percent:.1,value:!0}]});function Gt(t,e,o){Od&&Z(`${o} ${e}`,{"evt.name":o,"evt.integration":e,appName:t,"usr.id":xe().id,"view.url":P("page_url")||x(),"view.referrer":P("page_referrer_url")||st()})}var Qn={[Jn.name]:Jn,[Xn.name]:Xn,[zn.name]:zn};function Zn(t,e,o){Gt(ht,t,e),Y(`${ht} ${e}: ${t}`,o)}function Rd(t,e){Qn[t]!==void 0&&e&&w(e,o=>{o.name&&Qn[t].send(o,ht,(r,n)=>{Zn(r,"score_push",n)})})}function Ld(){let t=ut(`${ht}.scores`);t&&t.length&&it(ht,E.SCORES_UPDATE,t,{onExec:()=>{Zn(p,E.SCORES_UPDATE,t)}});let e=t?t[0]:null;if(e){let o={score:parseInt(e.score,10),comparison_group:e.comparison_group,threshold_group_count:e.threshold_group_count};it(ht,"score_update",S({},o),{onExec:()=>{Zn(p,"score_update",o)}})}}function Dd(t){let e=ut(`${ht}.integrations`),o=[];return w(e,r=>{let n=r.platform;t[n]&&o.push(t[n].then(()=>{Rd(n,r.scores)}))}),Ld(),Promise.all(o)}var Gc={appName:ht,platforms:Qn,sendAppScores:Dd};var ti={[Bt.name]:Bt};function Fd(t,e,o="score_push"){Gt(re,t,o),Y(`${re} ${o}: ${t}`,e)}function Bd(t,e){ti[t]!==void 0&&e&&e.length>0?(V(qe,"scored",30),w(e,o=>{o.name&&ti[t].send(o,re,Fd)})):V(qe,"enabled",30)}function $d(t){let e=G("blackcrow_promising_user")||"";return t==="enabled"||t===void 0&&e.toLowerCase()==="active"||t===void 0&&x().toLowerCase().indexOf("blackcrow_promising_user%3dactive")>0}function Md(t){let e=ut(`${re}.integrations`),o=A(qe),r=[];return o==="scored"?V(qe,"scored",30):$d(o)&&w(e,n=>{let s=n.platform;t[s]&&r.push(t[s].then(()=>{Bd(s,n.scores)}))}),Promise.all(r)}var Hc={appName:re,platforms:ti,sendAppScores:Md};var Et="pwo",nr={DELAY:"delay",SESSION_VIEW_COUNT:"page_view",EXIT_INTENT:"exit_intent"};var ie=class{constructor(e){this.name=e}set(e,o){V(this.name,e,o)}get(){return A(this.name)}reset(){V(this.name,"",-1)}};var Wc=new ie(Xs),ir=new ie(Qs),oi=new ie(Zs),ei=class{SEPARATOR="|";overlayHistoryCookie=new ie(zs);get(){let e=this.overlayHistoryCookie.get();return e?e.split(this.SEPARATOR):[]}push(e){let o=this.get();o.push(e),this.overlayHistoryCookie.set(o.join(this.SEPARATOR),30)}count(e){return this.get().filter(o=>o===e).length}totalCount(){return this.get().length}},pt=class{overlayClosedCookieDuration=30;constructor(){this.history=new ei}static overlayWasClosed(){return!!Wc.get()}static piiWasSubmitted(){return!!ir.get()}static submitPII(){ir.set("true",1051200)}closeOverlay(){delete this._openOverlay,this.isOverlayOpenedByATC()||Wc.set("true",this.overlayClosedCookieDuration)}isOverlayOpen(){return!!this._openOverlay}piiWasSubmitted(){return pt.piiWasSubmitted()}setOverlayClosedDuration(e=30){this.overlayClosedCookieDuration=e}totalOverlaysOpenedCount(){return this.history.totalCount()}openStandardOverlay(){this._openOverlay=pt.STANDARD||void 0,this.history.push(pt.STANDARD)}standardOverlaysOpenedCount(){return this.history.count(pt.STANDARD)}openAtcOverlay(){this._openOverlay=pt.ATC,this.history.push(pt.ATC)}atcOverlaysOpenedCount(){return this.history.count(pt.ATC)}isOverlayOpenedByATC(){return this._openOverlay===pt.ATC||void 0}openExitOverlay(){this._openOverlay=pt.EXIT,this.history.push(pt.EXIT)}exitOverlaysOpenedCount(){return this.history.count(pt.EXIT)}isOverlayOpenedByExitTrigger(){return this._openOverlay===pt.EXIT||void 0}},mt=pt;xo(mt,"STANDARD","s"),xo(mt,"ATC","a"),xo(mt,"EXIT","e");var sr=class{maxTotalOverlays=1/0;maxStandardOverlays=1;maxATCOverlays=1;maxExitOverlays=1;constructor(e){this.interactionTracker=e}setMaxTotalOverlays(e=1/0){this.maxTotalOverlays=e}totalOverlayLimitReached(){return this.interactionTracker.totalOverlaysOpenedCount()>=this.maxTotalOverlays}standardOverlayLimitReached(){return this.interactionTracker.standardOverlaysOpenedCount()>=this.maxStandardOverlays}canOpenStandardOverlay(){return!this.interactionTracker.isOverlayOpen()&&!this.interactionTracker.piiWasSubmitted()&&!this.standardOverlayLimitReached()&&!this.totalOverlayLimitReached()}atcOverlayLimitReached(){return this.interactionTracker.atcOverlaysOpenedCount()>=this.maxATCOverlays}canOpenAtcOverlay(){return!this.interactionTracker.isOverlayOpen()&&!this.atcOverlayLimitReached()&&!this.totalOverlayLimitReached()}exitOverlayLimitReached(){return this.interactionTracker.exitOverlaysOpenedCount()>=this.maxExitOverlays}canOpenExitOverlay(){return!this.interactionTracker.isOverlayOpen()&&!this.exitOverlayLimitReached()&&!this.totalOverlayLimitReached()}};var Vd=["OPEN","EMAIL_LEAD","LEAD","CLOSE"],ri="attentive",ar={},Kc,jc=!0;var Ud={OPEN:E.PWO_IMPR,CLOSE:E.PWO_CLOSE,EMAIL_LEAD:E.PWO_EMAIL_LEAD,LEAD:E.PWO_SMS_LEAD};function qd({action:t,creativeId:e}){let o=Ud[t];o&&i.push({trigger:o,data:{rendered_form_id:e}})}function Gd(t,e){Kc=t?.toUpperCase(),ar={},jc&&(jc=!1,h.addListener(window,"message",o=>{if(o.origin&&o.origin.indexOf(".attn.tv")!==-1){let r=o.data.__attentive||{};if(r&&Vd.includes(r.action)){let{action:n,creativeId:s}=r,u=ar[s];if(u?.includes(n))return;ar[s]=u?[...u,n]:[n],qd(r)}}})),F(()=>{if(typeof window.__attentive?.trigger=="function")e();else throw new Error(`${ri} globals not found`)},()=>i.error(new R(`[${Kc}] ${ri} globals not found.`)),100)}function Hd(){return Promise.resolve(G("utm_source")==="attentive")}function Wd(){}function Kd(t){delete ar[t],window.__attentive.trigger(null,null,null,t)}var ni={name:ri,setup:Gd,isIdentified:Hd,triggerOverlay:Kd,addAttributesToUserProfile:Wd};var Jc=["open","embedOpen","close","redirectedToUrl","submit","stepSubmit"];function Oe(){if(!window.klaviyo){window._klOnsite=window._klOnsite||[];try{window.klaviyo=new Proxy({},{get(t,e){return e==="push"?function(){let o;(o=window._klOnsite).push.apply(o,arguments)}:function(){for(var o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];let s=typeof r[r.length-1]=="function"?r.pop():void 0;return new Promise(c=>{window._klOnsite.push([e].concat(r,[function(a){s&&s(a),c(a)}]))})}}})}catch{window.klaviyo=window.klaviyo||[],window.klaviyo.push=function(){let e;(e=window._klOnsite).push.apply(e,arguments)}}}}function Yc(t,e,o=()=>!1,r=500){let n=A(t),s=h.setInterval(()=>{let u=A(t);if(u!==n)try{e(u),o()&&clearInterval(s)}catch(c){clearInterval(s),i.error(new Error(`Error occurred in one of the callbacks: ${c}`))}finally{n=u}},r);return s}var cr="klaviyo",ii="PWO",no={};function jd(t){let e=t.type,o=t?.metaData,r=null;switch(e){case"open":r=E.PWO_IMPR;break;case"submit":o?.$email&&(r=E.PWO_EMAIL_LEAD);break;case"stepSubmit":o?.$phone_number&&(r=E.PWO_SMS_LEAD);break;case"close":r=E.PWO_CLOSE;break;default:break}return r}function Jd(t,e){i.push({trigger:t,data:e})}function Yd(t){return t.overrideSampling=!0,t.message=`klaviyo_renderer: ${t.message}`,t}function Xd(t,e){return o=>{o.message===`klaviyo_renderer: ${b}`?i.error(new R(t)):i.error(o),e()}}function Xc(){return new Promise((t,e)=>F(()=>{if(G("_kx"))return t(!0);let o=window._learnq?._loaded&&window?._learnq?.isIdentified||window._klOnsite?._loaded&&window._klOnsite.isIdentified||window?.klaviyo?.isIdentified;if(typeof o=="function"){let r=o();if(r!==void 0)return t(r)}throw Yd(new Error(b))},Xd(`[${ii}] ${cr} could not determine whether user is identified`,e)))}function si(t){(window?._learnq?.push||window?._klOnsite?.push||window?.klaviyo?.push)(["identify",{$email:t}])}function zd(){C(()=>{Vo(t=>{let e=En(t);e&&si(e)})})}function Qd(){Xc().then(t=>{if(t===!1){let e=at();e?si(e):zd()}})}function Zd(){function t(){let e=ge();e&&O("kl_purchase",{kl_cid:e})}if(Pt()==="confirmation"){Yc(Ro,t,ge);let e=at()||Mo();e&&si(e)}else Qd()}function tl(t,e){ii=t?.toUpperCase(),no={};function o(u,c){return c&&no[u]?.includes(c)}function r(u,c){let a=no[u];no[u]=a?[...a,c]:[c]}function n(){(window?._learnq?.push||window?._klOnsite?.push||window?.klaviyo?.push)(["track","Welcome Form Submit"])}function s(u){let c=u?.formId,a=jd(u);o(c,a)||(r(c,a),Jd(a,{rendered_form_id:c}),a===E.PWO_EMAIL_LEAD&&n())}h.addListener(window,"klaviyoForms",u=>{u.detail&&Jc.includes(u.detail.type)&&s(u.detail)}),(typeof window.klaviyo?.identify!="function"||!window._klOnsite?._loaded)&&Oe(),F(()=>{if(typeof window.klaviyo?.identify=="function"&&window._klOnsite?._loaded)Zd(),e();else throw new Error(`${cr} globals not found`)},()=>i.error(new R(`[${ii}] ${cr} globals not found.`)),100)}function el(t){let e=window._learnq?._loaded&&window?._learnq?.push||window._klOnsite?._loaded&&window?._klOnsite?.push||window?.klaviyo?.push;typeof e=="function"&&e(["identify",t])}function ol(t){delete no[t],window.klaviyo.openForm(t)}var Re={name:cr,setup:tl,isIdentified:Xc,triggerOverlay:ol,addAttributesToUserProfile:el};function io(t,e){if(typeof e!="function")return;let o=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(...r){try{r[1]?.match(t)&&e&&h.addListener(this,"load",()=>{this.responseType===""||this.responseType==="text"?e(this.responseText):this.responseType==="json"&&e(JSON.stringify(this.response))})}catch{i.error(new _t(`XHR Sniffer Error For URL: ${t}`))}return o.apply(this,r)}}function fr(t,e){let o=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(...r){try{r[1]?.match(t)&&e(r)}catch{i.error(new _t(`XHR Intercept Error For URL: ${t}`))}return o.apply(this,r)}}var ci="justuno",so={},ai;function fi(t){return t.overrideSampling=!0,t.message=`justuno_renderer: ${t.message}`,t}function zc(t,e){return o=>{o.message===`justuno_renderer: ${b}`?i.error(fi(new R(t))):i.error(o),e(t)}}function rl(){return window._klOnsite?._loaded||Oe(),new Promise((t,e)=>F(()=>{if(typeof window.klaviyo?.isIdentified=="function"&&window._klOnsite?._loaded)return t(Re.isIdentified());throw fi(new Error(b))},zc(`[${ai}] ${ci} could not determine whether user is identified (using klaviyo).`,e)))}function nl(t,e){i.push({trigger:t,data:e})}function il(t,e){so={},ai=t?.toUpperCase();function o(s,u){return so[s]?.includes(u)}function r(s,u){if(s){let c=so[s];so[s]=c?[...c,u]:[u]}}function n(s,u){o(s,u)||(r(s,u),nl(u,{rendered_form_id:s}))}I()?e():(window.juapp=window.juapp||function(){(window.juapp.q=window.juapp.q||[]).push(arguments)},fr("(justuno.com|jst.ai)/api/analytics/impression",()=>{n(void 0,E.PWO_IMPR)}),window.juapp("trackFunc","engagement",(s,u,c,a,g,_)=>{_.find(y=>y.name==="phone_number"&&y.value.length>0)?n(a,E.PWO_SMS_LEAD):s&&n(a,E.PWO_EMAIL_LEAD)}),window.ju_windowevent=(s,u)=>{s==="unload"&&n(u,E.PWO_CLOSE)},F(()=>{if(window.ju_loadiframe&&typeof window.ju_loadiframe=="function"&&window.ju_initialized)e();else throw fi(new Error(b))},zc(`[${ai}] ${ci} globals not found.`,e),100))}function sl(t){typeof window?.klaviyo?.push!="function"&&!window._klOnsite?._loaded&&Oe(),Re.addAttributesToUserProfile(t)}function al(t){delete so[t],window.ju_loadiframe({campaign_id:t??""})}var ui={name:ci,setup:il,isIdentified:rl,triggerOverlay:al,addAttributesToUserProfile:sl};var Qc={[ni.name]:ni,[ui.name]:ui,[Re.name]:Re},ur=class{constructor(e){if(!e)throw new Error("[PWO] No configured overlay renderer");if(this.overlayRenderer=Qc[e.toLowerCase()],!this.overlayRenderer)throw new Error(`[PWO] Unrecognized overlay renderer: ${e}`)}setup(){return new Promise(e=>this.overlayRenderer.setup(Et,e))}triggerOverlay(e){this.overlayRenderer.triggerOverlay(e)}get name(){return this.overlayRenderer?.name}},pr=class{constructor(e){if(!Array.isArray(e)||!e.length)throw new Error("[PWO] No configured identity platforms");if(this.identityPlatforms=e.map(o=>{let r=Qc[o?.toLowerCase()];return r||i.error(new Error(`[PWO] Unrecognized identity platform: ${o}`)),r}).filter(o=>!!o),!this.identityPlatforms.length)throw new Error("[PWO] No configured identity platforms")}isUserIdentified(){let e=this.identityPlatforms.map(async o=>{try{return o.isIdentified()}catch{return!0}});return Promise.all(e)}addAttributesToUserProfile(e){this.identityPlatforms.forEach(o=>{o.addAttributesToUserProfile(e)})}};function cl(){return Number(A(Hr))||0}function ao(){return Number(A(Wr))||0}function Zc(){let t=cl();V(Hr,t+1,1051200);let e=ao();e<1&&it("platform",E.SESSION),V(Wr,e+1,30)}function fl(){let e=Ce(Et).excludedQueryParams;return e&&e.some(o=>G(o.name)===o.value)}function ul(t){let e=t?.overlayBuckets?.triggerBuckets?.scoreName,o=ut(`${ht}.scores`)??[];return e?o.find(({name:r})=>r===e)?.score:void 0}function pi(){return oi.get()?!0:fl()?(oi.set(!0),!0):!1}function tf(){let t=Ce(Et),e=t?.overlayBuckets,o=Ic(t),r=ul(t);return e===void 0?void 0:{resolved_trigger_config:{...e},resolved_form_id:o.formId,resolved_form_profile:o.profile,resolved_score:r}}function ef(t){return{closed_overlay:!!mt.overlayWasClosed(),identified:t.some(e=>e===!0),pii_submitted:!!mt.piiWasSubmitted(),channel_excluded:pi()}}function of(t){if(de(Q()).deviceType!=="mobile")C(()=>{h.addListener(document?.documentElement,"mouseleave",t)});else{let e=le(),o=ha();if(o>0){let r=h.setInterval(()=>{let n=e-le();n<0&&(n=0,e=le()),n/o>.3&&(clearInterval(r),t())},150)}}}function rf(){let t=!!ir.get(),e=pi();return!(t||e)}function pl(){let t=Ct(),e=`${Et}_overlayBuckets`;return{custom_dimensions:{pwo_overlay_bucket_ratio:He(`${t}${e}`)}}}function mi(t){let e={};function o(){return S({},tf(),ef(t),{session_page_views:ao()},pl(),e)}function r(n){S(e,n)}return{getEventData:o,extendEventData:r}}var Le,mr,co,j=new mt,fo=new sr(j);function ml(t){Le&&Le.extendEventData(t)}function Ht(){return Le?.getEventData()||{}}function sf(){return Ht()?.resolved_trigger_config?.name}function dl(){Le=void 0}function ll(t){return{resolved_form_id:t.form_id,resolved_form_profile:t.form_profile,trigger_type:t.trigger_type,trigger_count:t.trigger_count}}function gl(){j.closeOverlay(),dl()}function _l(t){return!j.isOverlayOpen()&&t.overlay_eligible&&t.trigger_type&&t.trigger_count>-1&&t.trigger_count!==null}function di(t){i.push({trigger:E.PWO_OPEN_ATTEMPT}),mr.triggerOverlay(t.form_id),co.addAttributesToUserProfile({blackcrow_exposed_population_bucket:sf(),bcai_trigger:t.trigger_type,profile:t.form_profile})}function af(t){return co.isUserIdentified().then(o=>{!o.some(n=>n===!0)&&fo.canOpenStandardOverlay()&&di(t)})}function cf(t,e){let o=mr.name??"unknown";i.error(new Error(`[${Et.toUpperCase()}] error when triggering overlay for creative "${t?.form_id}" on ${o} due to error "${e.message}".`))}function nf(t){let e=()=>af(t).catch(o=>cf(t,o));h.setTimeout(e,t.trigger_count*1e3)}function hl(t){ao()>=t.trigger_count&&af(t).catch(o=>cf(t,o))}function El(t){if(!t.overlay_eligible){let e=Ht();return!e.channel_excluded&&!e.identified&&!e.pii_submitted}return!0}function yl(t){Ht()?.resolved_trigger_config?.triggerBuckets?.showOverlayOnATC&&k("platform",E.ADD_TO_CART,()=>{El(t)&&fo.canOpenAtcOverlay()&&(j.openAtcOverlay(),di(t))})}function wl(t){let e=t?.apps?.pwo;if(e){ml({...ll(e)});let o=sf();if(co.addAttributesToUserProfile(S({},{blackcrow_all_population_bucket:o,blackcrow_eligible_population_bucket:e?.overlay_eligible?o:void 0})),yl(e),_l(e))switch(e.trigger_type){case nr.DELAY:nf(e);break;case nr.SESSION_VIEW_COUNT:hl(e);break;case nr.EXIT_INTENT:k("platform",E.EXIT_INTENT,()=>{fo.canOpenExitOverlay()&&nf(e)});break;default:}}else i.error(new Error(`[${Et.toUpperCase()}] missing "pwo" in response: ${JSON.stringify(t)}`))}function vl(t,e){return O(t,e,o=>{wl(o)}),{eventName:t,eventData:e}}async function Sl(t){try{if(t.renderer&&t.isIdentified&&rn()){await t.renderer;let e=await t.isIdentified;Le=mi(e),await vl(T.PWO_DECISION,Le.getEventData())}}catch(e){i.error(e)}}function Il(){it("platform",E.EXIT_INTENT)}function Al(){k("platform",E.VIEW_RESPONSE,()=>{rn()&&(k("platform",E.PWO_CLOSE,e=>{O(T.PWO_CLOSE,S(e,Ht(),{bcai_triggered:j.isOverlayOpen(),overlay_triggered_by_atc:j.isOverlayOpenedByATC(),overlay_triggered_by_seu:j.isOverlayOpenedByExitTrigger()})),j.closeOverlay()}),k("platform",E.PWO_EMAIL_LEAD,e=>{mt.submitPII(),O(T.PWO_EMAIL_LEAD,S(e,Ht(),{bcai_triggered:j.isOverlayOpen(),overlay_triggered_by_atc:j.isOverlayOpenedByATC(),overlay_triggered_by_seu:j.isOverlayOpenedByExitTrigger()}))}),k("platform",E.PWO_SMS_LEAD,e=>{mt.submitPII(),O(T.PWO_SMS_LEAD,S(e,Ht(),{bcai_triggered:j.isOverlayOpen(),overlay_triggered_by_atc:j.isOverlayOpenedByATC(),overlay_triggered_by_seu:j.isOverlayOpenedByExitTrigger()}))}),k("platform",E.PWO_IMPR,e=>{O(T.PWO_IMPR,S(e,Ht(),{bcai_triggered:j.isOverlayOpen(),overlay_triggered_by_atc:j.isOverlayOpenedByATC(),overlay_triggered_by_seu:j.isOverlayOpenedByExitTrigger()}))}),k("platform",E.PWO_OPEN_ATTEMPT,e=>{j.openStandardOverlay(),O(T.PWO_OPEN_ATTEMPT,S(e,Ht()))}),Ce(Et)?.overlayBuckets?.triggerBuckets?.showSecondOverlayOnExitIntent&&k("platform",E.EXIT_INTENT,()=>{let e=Ht();fo.canOpenExitOverlay()&&rf()&&!e.identified&&(j.openExitOverlay(),di({trigger_type:E.EXIT_INTENT,form_id:e.resolved_form_id,form_profile:e.resolved_form_profile}))}))})}function xl(){let t={},e=Ce(Et),o=e.renderer?.toLowerCase();if(I())i.error(new R("[PWO] Disabled while running in WebPixelManager."));else if(o===void 0)i.error(new Error("[PWO] No configured overlay renderer"));else{let r=e.identifyPlatforms;try{mr=new ur(o),co=new pr(r||[o]),j.setOverlayClosedDuration(e?.overlayClosedCookieDuration),fo.setMaxTotalOverlays(e?.maxTotalOverlays),t.isIdentified=co.isUserIdentified(),t.renderer=mr.setup(),Al(),of(Il)}catch(n){i.error(n)}}return t}var ff={appName:Et,init:xl,sendAppScores:Sl,cleanup:gl};var li="cordial";function bl(t,e,o){let r=`${f}`,n=D([r,t.integration_product]),s=v(window,"crdl");if(typeof s=="function"){let u={app_name:e,integration_product:t.integration_product,conversion_product:t.conversion_product,conversion_type:t.conversion_type,comparison_population:t.comparison_population,comparison_group:t.comparison_group,comparison_type:t.comparison_type,threshold_setter:t.threshold_setter,threshold_group_count:t.threshold_group_count,score:B(t.score)};s("event",n,u),typeof o=="function"&&o(li,n)}else throw new Error(b)}var gi={name:li,send:H(li,bl)};var uo=window.GoogleAnalyticsObject||"ga";window[uo]=window[uo]||function(){(window[uo].q=window[uo].q||[]).push(arguments)};var pL=window[uo];window.dataLayer=window.dataLayer||[];var Wt=typeof window.gtag=="function"?window.gtag:function(){window.dataLayer.push(arguments)};function po(){return A("_ga")?.split(".")?.slice(-2).join(".")}function _i(t,e){if(I()){let r=M(t,e).tracking_id;return r!=null&&r.startsWith("UA-")&&po()!==void 0}if(Array.isArray(window.dataLayer)){let o=!1;return w(window.dataLayer,r=>{r[0]==="config"&&r[1]&&r[1].indexOf("UA-")===0&&(o=!0)}),o}return!1}function hi(t,e){if(I()){let r=M(t,e).tracking_id;return r!=null&&r.startsWith("G-")&&po()!==void 0}if(Array.isArray(window.dataLayer)){let o=!1;return w(window.dataLayer,r=>{r[0]==="config"&&r[1]&&r[1].indexOf("G-")===0&&(o=!0)}),o}return!1}var dr="event",yt="google_analytics",Tl="https://www.google-analytics.com/collect",Pl="https://www.google-analytics.com/g/collect";function kl(t,e){if(!I()){let r=M(t,yt).tracking_id;if(r){let n=document.createElement("script");n.src=`https://www.googletagmanager.com/gtag/js?id=${r}`,n.async=!0,document.getElementsByTagName("head")[0].appendChild(n),Wt("js",new Date),Wt("config",r,{send_page_view:!1})}}e()}function Cl(t,e,o,r,n){let s=new URL(Tl);s.search=ft({v:1,t:dr,tid:t,cid:po(),ec:e,ea:o,el:r,ua:Q(),dl:x(),dt:document.title,ni:1}),K(s.toString(),{method:"GET",mode:"cors"},n)}function Nl(t,{onSuccess:e,eventPrefix:o,integrationProduct:r,conversionProduct:n,conversionType:s,comparisonType:u,thresholdSetter:c,thresholdGroupCount:a,comparisonPopulation:g,score:_}){let y=new URL(Pl);y.search=ft({v:2,tid:t,en:dr,cid:po(),dl:x(),dt:document.title,ep:{app_name:o,integration_product:r,conversion_product:n,comparison_population:g,comparison_type:u,conversion_type:s,threshold_setter:c,threshold_group_count:a,non_interaction:!0},epn:{score:_}}),K(y.toString(),{method:"POST",mode:"cors"},e)}function uf(t,e,o,r,n,s,u,c,a){let g={};return g.category=D([t,e,o,r]),g.action=D([n,s,u,c]),g.label=a,g}function Ol(t,{onSuccess:e,eventPrefix:o,integrationProduct:r,conversionProduct:n,conversionType:s,comparisonType:u,thresholdSetter:c,thresholdGroupCount:a,comparisonPopulation:g,score:_}){let y=M(t,yt);if(y.pageBlocked)return;let N=window.GoogleAnalyticsObject?window[window.GoogleAnalyticsObject]:window.ga,$=uf(o,r,n,s,u,c,a,g,_),lt=$.category,Ot=$.action,Kt=$.label;function Mt(){typeof e=="function"&&e(yt,{eventCategory:lt,eventAction:Ot,eventLabel:Kt})}if(_i(t,yt))Wt("event",Ot,{event_category:lt,event_label:Kt,non_interaction:!0}),Mt();else if(hi()){let Se=D([o,r],"_");Wt("event",Se,{non_interaction:!0,app_name:o,integration_product:r,conversion_product:n,conversion_type:s,comparison_population:g,comparison_type:u,threshold_setter:c,threshold_group_count:a,score:_}),Mt()}else if(typeof N=="function"){let Se=h.setTimeout(()=>{i.error(new R(`${yt} ready hook not fired`))},5e3);N(Us=>{if(clearTimeout(Se),!(Us&&Us.get("trackingId"))){let Ao=y.tracking_id;Ao||w(N.getAll(),fp=>{let qs=fp.get("trackingId");if(qs)return Ao=qs,!1}),Ao?N("create",Ao,"auto"):i.error(new oo(`${yt} tracking id not found`))}N("send",{hitType:dr,eventCategory:lt,eventAction:Ot,eventLabel:Kt,nonInteraction:!0}),Mt()})}else throw new Error(b)}function Rl(t,{onSuccess:e,eventPrefix:o,integrationProduct:r,conversionProduct:n,conversionType:s,comparisonType:u,thresholdSetter:c,thresholdGroupCount:a,comparisonPopulation:g,score:_}){let y=uf(o,r,n,s,u,c,a,g,_),N=y.category,$=y.action,lt=y.label;function Ot(){typeof e=="function"&&e(yt,{eventCategory:N,eventAction:$,eventLabel:lt})}if(_i(t,yt)){let Mt=M(t,yt).tracking_id;Cl(Mt,N,$,lt,Ot)}else if(hi(t,yt)){let Mt=M(t,yt).tracking_id;Nl(Mt,{onSuccess:Ot,eventPrefix:o,integrationProduct:r,conversionProduct:n,conversionType:s,comparisonType:u,thresholdSetter:c,thresholdGroupCount:a,comparisonPopulation:g,score:_})}else throw new Error(b)}function Ll(t,e,o){let r=`${f}_${e}`;function n(u){u.message===b?i.error(new R(`${yt} globals not found`),{appName:e}):i.error(u)}if(!t)return;let s=I()?Rl:Ol;F(()=>s(e,{onSuccess:o,eventPrefix:r,integrationProduct:t.integration_product,conversionProduct:t.conversion_product,conversionType:t.conversion_type,comparisonType:t.comparison_type,thresholdSetter:t.threshold_setter,thresholdGroupCount:t.threshold_group_count,comparisonPopulation:t.comparison_population,score:B(t.score)}),n)}var Ei={eventHitType:dr,name:yt,setup:kl,send:Ll};var De="google_ads",Dl="www.googleadservices.com",Fl="_gcl_au";function lr(t){return M(t,De)?.conversion_id}function pf(t){return lr(t)?.split("-").splice(-1).join()}function Bl(){return A(Fl)?.split(".").splice(-2).join(".")}function mf(t){let e=x(),o=st(),r=Ie(),n=Date.now(),s=Bl(),u={data:`event=${t};non_interaction=true`,fst:n,random:n,auid:s,url:e,ref:o,tiba:r,hn:Dl,rfmt:3,fmt:4,async:1,cv:11,guid:"ON"};return ft(u)}var $l="event",Ml="https://googleads.g.doubleclick.net/pagead/viewthroughconversion";function Vl(t,e){if(!I()){let o=lr(t);if(o){let r=document.createElement("script");r.src=`https://www.googletagmanager.com/gtag/js?id=${o}`,r.async=!0,document.getElementsByTagName("head")[0].appendChild(r),Wt("js",new Date),Wt("config",o)}}e()}function Ul(){if(Array.isArray(window.dataLayer)){let t=!1;return w(window.dataLayer,e=>{e[0]==="config"&&e[1]&&e[1].indexOf("AW-")===0&&(t=!0)}),t}return!1}function ql(t,e,o){let r=pf(e),n=mf(t);try{Jt(`${Ml}/${r}/?${n}`),o()}catch(s){i.error(new Error(`${De} api call failed with ${s}`))}}function Gl(t,e,o){if(Ul())Wt("event",t,{send_to:lr(e),non_interaction:!0}),o();else throw new Error(b)}function Hl(t,e,o){let r=`${f}_${e}`,n=D([r,t.integration_product,t.conversion_product,t.conversion_type,t.comparison_type,t.threshold_setter,t.threshold_group_count,t.comparison_population,`score_${B(t.score)}`]);function s(){typeof o=="function"&&o(De,{event:n})}I()?ql(n,e,s):Gl(n,e,s)}var yi={eventHitType:$l,name:De,setup:Vl,send:H(De,Hl)};var wi="heap";function Wl(t,e,o){let r=v(window,"heap");if(r&&typeof r.addUserProperties=="function"){let s={[D([f,t.comparison_group,t.threshold_group_count])]:t.score};r.addUserProperties(s),typeof o=="function"&&o(wi,s)}else throw new Error(b)}var vi={name:wi,send:H(wi,Wl)};var mo="klaviyo";function Kl(t,e){if(!I()){let o=M(t,mo).api_key,r=window._learnq?window._learnq.identify:null;if(o&&typeof r!="function"){let n=document.createElement("script");n.src=`https://static.klaviyo.com/onsite/js/klaviyo.js?company_id=${o}`,n.async=!0,document.getElementsByTagName("head")[0].appendChild(n)}}e()}function df(t,e,o,r){function n(){typeof r=="function"&&r(mo,e)}function s(){let u=at(),c=B(o.score),a={[e]:c};return u&&S(a,{$email:u}),a}if(I()){let u=M(t,mo).api_key;u&&K(`https://a.klaviyo.com/api/onsite/identify?c=${u}`,{body:JSON.stringify({token:u,properties:s()}),method:"POST",mode:"cors",credentials:"omit"},n())}else window._learnq||(window._learnq=[],i.error(new R(`${mo} globals not found`))),window._learnq.push(["identify",s()]),n()}var lf={},Si={};function jl(t){let e=lf[t];return()=>{df(e.appName,e.eventName,e.scoreObj,e.onSuccess)}}function Jl(t,e,o){if(!t)return;let r=D([`${f}`,"score",t.threshold_group_count,t.comparison_group]);t.name!==void 0&&(lf[t.name]={appName:e,eventName:r,scoreObj:t,onSuccess:o},Si[t.name]===void 0&&(Si[t.name]=jl(t.name)),h.addListener(window,"beforeunload",Si[t.name])),h.setTimeout(()=>df(e,r,t,o),5e3)}var Ii={name:mo,setup:Kl,send:Jl};var Yl="event",gr="microsoft_ads";function Xl(t,{onSuccess:e,eventCategory:o,eventAction:r,eventLabel:n,eventValue:s}){function u(){typeof e=="function"&&e(gr,{event_category:o,event_action:r,event_label:n,event_value:s})}try{window.uetq=window.uetq||[],window.uetq.push("event",r,{event_category:o,event_label:n,event_value:s}),u()}catch{i.error(new R(`${gr} globals not found`),{appName:t})}}function zl(t,e){let r=M(t,gr).tracking_id;r?function(n,s,u,c,a){var g,_,y;n[a]=n[a]||[],g=function(){var N={ti:r};N.q=n[a],n[a]=new UET(N),n[a].push("pageLoad"),e()},_=s.createElement(u),_.src=c,_.async=1,_.onload=_.onreadystatechange=function(){var N=this.readyState;N&&N!=="loaded"&&N!=="complete"||(g(),_.onload=_.onreadystatechange=null)},y=s.getElementsByTagName(u)[0],y.parentNode.insertBefore(_,y)}(window,document,"script","//bat.bing.com/bat.js","uetq"):e()}function Ql(t,e,o){let r=`${f}_${e}`;if(!t)return;let n=t.integration_product,s=D([r,n,t.conversion_product,t.conversion_type]),u=D([t.comparison_type,t.threshold_setter,t.threshold_group_count,t.comparison_population,t.comparison_group]),c,a;if(n==="prospecting")a=t.raw_probability;else{c=B(t.score);let g=Number(t.score);g>=0&&(a=g)}Xl(e,{onSuccess:o,eventCategory:s,eventAction:u,eventLabel:c,eventValue:a})}var Ai={eventHitType:Yl,name:gr,setup:zl,send:Ql};var xi="oracle_responsys";function Zl(t,e,o){let r=v(window,"ORA.click");if(typeof r=="function"){let n=B(t.score);r({data:{bc_score:n,"wt.dl":99}}),typeof o=="function"&&o(xi,n)}else throw new Error(b)}var bi={name:xi,send:H(xi,Zl)};var gf="track";var Ti="outbrain";function tg(t,e,o){let r=v(window,"obApi");if(typeof r=="function"){let n=`${f}`,s=t.integration_product,u=D([n,s,t.threshold_group_count,B(t.score)]," ").replace(/[^0-9a-z\s]/gi,"");r(gf,u),typeof o=="function"&&o(Ti,u)}else throw new Error(b)}var Pi={name:Ti,send:H(Ti,tg)};var he="pinterest",ki=`${f}`;function hf(t){return{lead_type:t.integration_product,video_title:t.conversion_product,order_id:t.conversion_type,property:t.comparison_group,promo_code:t.comparison_type,search_query:t.threshold_setter,order_quantity:B(t.threshold_group_count),value:B(t.score)}}function _f(t,e,o){let r=A("_pin_unauth"),n=A("_derived_epik"),s={event:ki,ed:e,tid:t,pd:{...r&&{pin_unauth:r},...n&&{derived_epik:n}}};return o&&(s.ad={loc:x(),ref:document.referrer}),s}function eg(t,e,o){let r=M(e,he).tracking_id;if(r){let n="https://ct.pinterest.com",s=hf(t),u=_f(r,s,!1),c=ft(u,!1);K(`${n}/user/?${c}`,{method:"GET"},o,()=>i.error(new Error(`${he} api call failed`)));let a=_f(r,s,!0),g=ft(a,!1);K(`${n}/v3/?${g}`,{method:"GET"},o,()=>i.error(new Error(`${he} api call failed`)))}}function og(t,e,o){if(I())eg(t,e,o);else{let r=v(window,"pintrk");if(typeof r=="function"){let n=hf(t);M(e,he).advancedMatching&&S(n,{em:at()}),r("track",ki,n),typeof o=="function"&&o(he,ki)}else throw new Error(b)}}var Ci={name:he,send:H(he,og)};var Ee="snapchat",_r="_scid",hr="u_sclid",Er="u_scsid",Ri="snaptr",Oi={};function yr(t,{getItem:e,setItem:o},r,n=Xe){return e(t).then(s=>{let u=s;u||(u=n(),o(t,u)),r(u)})}function Ni(t){return Oi[t]}function wr(t,e){return Oi[t]=e,Oi[t]}function rg(t){return M(t,Ee)?.pixel_id}function Ef(t,e){let o=rg(e),r=jt("navigation")[0],n=jt(Ri)[0];return{pid:o,ev:t.score,pl:x(),rf:st(),ts:Date.now(),trackId:Xe(),u_c1:Ni(_r),u_sclid:Ni(hr),u_scsid:Ni(Er),m_dcl:r?.domContentLoadedEventEnd,m_pi:r?.domInteractive,m_pl:r?.loadEventEnd,m_pv:r?"v2":"v1",m_rd:Math.floor(bo()),m_sl:n?.startTime,v:"2.0.0",bt:"1d53c387",if:!1}}function lo(t){if(typeof Promise.allSettled=="function")return Promise.allSettled(t);let e=t.map(o=>Promise.resolve(o).then(r=>({status:"fulfilled",value:r}),r=>({status:"rejected",reason:r})));return Promise.all(e)}var ng="https://tr.snapchat.com/p";function yf(t,e){return I()?lo([yr(_r,{getItem:window.browser.cookie.get,setItem:window.browser.cookie.set},o=>{wr(_r,o)}),yr(hr,window.browser.localStorage,o=>{wr(hr,o)}),yr(Er,window.browser.sessionStorage,o=>{wr(Er,o)})]).finally(e):e()}function ig(t,e,o){let r=Ef(t,e);K(`${ng}`,{method:"POST",mode:"cors",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ft(r)},()=>{typeof o=="function"&&o(Ee,`${f},${t.score}`)},()=>{i.error(`Unable to send scores to ${Ee}.`)})}function sg(t,e,o){let r=v(window,Ri);if(typeof r=="function"){if(r("track",t.score),typeof o=="function"){let n=`${f}`,s=D([n,t.score]);o(Ee,s)}}else throw new Error(b)}function ag(t,e,o){return I()?ig(t,e,o):sg(t,e,o)}var go={name:Ee,identify:yf,setup:yf,send:H(Ee,ag)};var Li="taboola";function cg(t,e,o){if(!t)return;window._tfa===void 0&&(window._tfa=[],i.error(new R(`${Li} globals not found`),{appName:e}));let r=`${f}`,n=t.integration_product,s=D([r,n,t.threshold_group_count,B(t.score)],"_");window._tfa.push({notify:"event",name:s}),typeof o=="function"&&o(Li,s)}var Di={name:Li,send:cg};function fg(){return"product"}function Fi(){let t={},e=at();return e&&(e=e.toLowerCase()),t.email=e,t}function ug(){let t=Fi();return Yo(t)}function pg(){let t={},e=A("_ttp");return e&&(t.anonymous_id=e),ug().then(o=>({...t,...o}))}function vr(t,e){let o=D([`${f}_${t}`,e]),r=fg();return{content_id:o,content_type:r}}function wf(t){let e={context:{page:{referrer:document.referrer,url:x()},pixel:{code:t},userAgent:Q()}};return pg().then(o=>(e.context.user=o,e))}function Bi(t,e,o,r){return wf(t).then(n=>(n.event=e,n.properties=vr(r,o),n))}function vf(t){return wf(t).then(e=>(e.event="EnrichAM",e))}var _o="tiktok",mg="https://analytics.tiktok.com/api/v2/pixel";function dg(t){let e=window.ttq;return e&&e.instances()&&Array.isArray(e.instances())?!!e.instances().find(o=>t===o.pixelCode&&o.loaded):!1}function $i(){return L("tiktokAccounts")||[]}function lg(t,e){I()||$i().forEach(r=>{let n=r.pixelId;n&&!dg(n)&&function(s,u,c){s.TiktokAnalyticsObject=c;var a=s[c]=s[c]||[];a.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"],a.setAndDefer=function(_,y){_[y]=function(){_.push([y].concat(Array.prototype.slice.call(arguments,0)))}};for(var g=0;g<a.methods.length;g++)a.setAndDefer(a,a.methods[g]);a.instance=function(_){for(var y=a._i[_]||[],N=0;N<a.methods.length;N++)a.setAndDefer(y,a.methods[N]);return y},a.load=function(_,y){var N="https://analytics.tiktok.com/i18n/pixel/events.js";a._i=a._i||{},a._i[_]=[],a._i[_]._u=N,a._t=a._t||{},a._t[_]=+new Date,a._o=a._o||{},a._o[_]=y||{},y=document.createElement("script"),y.type="text/javascript",y.async=!0,y.src=N+"?sdkid="+_+"&lib="+c,_=document.getElementsByTagName("script")[0],_.parentNode.insertBefore(y,_)},a.load(n),a.page()}(window,document,"ttq")}),e()}function Mi(){i.error(new Error(`${_o} api call failed`))}function Sf(t,e){let o=at(),r=Ko();if(o||r){let n=t.pixelId,s=v(window,"ttq.instance");typeof s=="function"&&typeof s(n).identify=="function"&&(s(n).identify({email:o,phone_number:r}),e&&typeof e=="function"&&e())}}function Vi(t,e,o){K(mg,{body:JSON.stringify(t),method:"POST"},e,o)}function If(t,e){let o=t.pixelId;o&&Fi().email&&vf(o).then(n=>{Vi(n,e,Mi)})}function gg(t,e){let o=I();function r(s,u){return()=>{let a=(ut(`${t}.integrations`)||[]).find(g=>_o===g.platform);a&&a.scores&&a.scores.forEach(({score:g,integration_product:_})=>{o?Bi(u,g,_,t).then(y=>{Vi(y,e,Mi)}):s(u).track(g,vr(t,_))}),o||e&&typeof e=="function"&&e()}}$i().forEach(s=>{let u=s.pixelId,c=v(window,"ttq.instance"),a=r(c,u);o?If(s,a):Sf(s,a)})}function Af(t,e){return function(){if(typeof t=="function"){let r=`${f}`,n=D([r,e.score]);t(_o,n)}}}function _g(t,e,o,r){let n=t.pixelId,s=v(window,"ttq.instance");if(n&&typeof s=="function")Sf(t),e.score&&s(n).track(e.score,vr(o,e.integration_product)),Af(r,e)();else throw new Error(b)}function hg(t,e,o,r){let n=t.pixelId;if(n){If(t);let s=e.score,u=e.integration_product;s&&(r=typeof r=="function"?Af(r,e):void 0,Bi(n,s,u,o).then(c=>{Vi(c,r,Mi)}))}else throw new Error(b)}function Eg(t,e,o){$i().forEach(n=>{I()?hg(n,t,e,o):_g(n,t,e,o)})}var ho={name:_o,identify:gg,setup:lg,send:H(_o,Eg)};function Ui({src:t,alt:e}){let o=document.createElement("img");return o.width=1,o.height=1,o.alt=e||"",o.src=t,o}var Sr="tradedesk";function yg(t,e,o){let n=M(e,Sr).pixel_id,s=B(t.score)-1,u=t.comparison_type,c=t.conversion_product,a=t.threshold_group_count;n&&!I()&&C(()=>{if(Ui({src:`https://insight.adsrvr.org/track/pxl/?${n}&fmt=3&td1=blackcrow&td2=comparison_type|${u}&td3=comparison_product|${c}&td4=threshold_group_count|${a}&td5=score|${s}`}),typeof o=="function"){let g=`${f}`,_=D([g,t.score]);o(Sr,_)}else throw new Error(b)})}var qi={name:Sr,send:H(Sr,yg)};var se="target";var Ir={[gi.name]:gi,[Bt.name]:Bt,[Ei.name]:Ei,[yi.name]:yi,[vi.name]:vi,[Ii.name]:Ii,[Ai.name]:Ai,[bi.name]:bi,[Pi.name]:Pi,[Ci.name]:Ci,[go.name]:go,[Di.name]:Di,[ho.name]:ho,[qi.name]:qi};function wg(t,e,o="score_push"){Gt(se,t,o),Y(`${se} ${o}: ${t}`,e)}function vg(t,e){e&&w(e,o=>{o.name&&Ir[t].send(o,se,wg)})}function Sg(){let t=Zo(se),e={};return t.forEach(o=>{let r=Ir[o];r!==void 0&&typeof r.setup=="function"?e[o]=new Promise(n=>r.setup(se,n)):e[o]=Promise.resolve()}),e}function Ig(t){let e=ut(`${se}.integrations`),o=[];return w(e,r=>{let n=r.platform,s=r.scores,u=Ir[n];t[n]&&o.push(t[n].then(()=>{u!==void 0&&typeof u.send=="function"&&vg(n,s)}))}),Promise.all(o)}var xf={appName:se,init:Sg,platforms:Ir,sendAppScores:Ig};var ae="identity";var bf=q({name:"identity_kpi_sampling",allocations:[{percent:.1,value:!0}]});function Tf(t,e,o){bf&&Z(`${t} platform request for ${e}`,{"platform.name":e,"event.name":o,appName:t})}function Pf(t,e){bf&&Z(`${t} user request`,e)}function Fe(t,e,o,r){let n=nt(e);if(n.length){let s={site_name:p,metadata:Ho(),device_info:Q(),page_url:x(),page_referrer_url:st(),page_title:Ie(),platform_name:t,platform_event_name:o,ids:n,user_data:{fbc:A(Oo),fbp:A(Yt)}},u={fb_test_event_code:A("fb_test_event_code")};Za(S(s,r,u)),Tf(ae,t,o)}}var kf="klaviyo",Ar;function Ag(t){return t==="track"}function xg(t){return t.overrideSampling=!0,t.message=`identity: ${t.message}`,t}function bg(t){return e=>{e.message===`identity: ${b}`?i.error(new R(t)):i.error(e)}}var Tg=6144;function Pg(t){function e(o,r){let n=Array.isArray(o)?[]:{};return Object.keys(o).forEach(s=>{s.toLocaleLowerCase().includes(r.toLowerCase())||(n[s]=o[s],o[s]&&typeof o[s]=="object"&&(n[s]=e(o[s],r)))}),n}return["description","media","image","content","variants","metafields"].reduce((o,r)=>Pe(JSON.stringify(o))<=Tg?o:e(o,r),t)}function Gi(t,e){Ag(e[0])&&Fe(kf,t,e[1],{data:Pg(e[2])})}function kg(t){Array.isArray(window._learnq)&&window._learnq.forEach(e=>{Gi(t,e)})}function Cg(t){if(typeof window._learnq.push=="function"){let e=window._learnq.push;window._learnq.push=function(...o){e.apply(this,o);let r=o[0];Gi(t,r)}}}function Ng(t){function e(){let o=Array.prototype.slice.call(arguments[0]);Gi(t,o),Ar.apply(this,arguments)}window._learnq.push&&typeof Ar!="function"&&(Ar||(Ar=window._learnq.push),window._learnq.push=e)}function Og(t,e){window._learnq=window._learnq||[],window._learnq?._loaded||(kg(e),Cg(e)),F(()=>{if(window._learnq?._loaded){Ng(e);return}throw xg(new Error(b))},bg("Klaviyo platform load not detected."),500,10)}var Hi={name:kf,setup:Og};var yo="facebook_ads";function Rg(t){return t==="track"}function Cf(t,e,o,r,n){Rg(e)&&Fe(yo,t,o,{data:r,platform_event_id:n?.eventID})}var Eo=[];function Lg(t=[]){Eo=Eo.concat(t.filter(e=>!Eo.includes(e)))}function Dg(){return Eo}function Fg(){Eo=[]}function Bg(t,e){if(!window.fbq.alreadyIntercepted)if(typeof window.fbq?.getState=="function"){let o=window.fbq;window.fbq=(...r)=>{Cf(e,...r),o(...r)},Object.keys(o).forEach(r=>{Object.defineProperty(window.fbq,r,{set:n=>{o[r]=n},get:()=>o[r]})}),window.fbq.alreadyIntercepted=!0,Dg()?.forEach(([...r])=>Cf(e,...r)),Fg()}else throw new Error(`${yo} pixel not yet loaded for ${t}.`)}function $g(t,e){let o=[];if(e?.length){let r=Go(t);e.forEach(n=>{let s=n?.loadPixel===!0,u=n?.pixelId,c=o.includes(u);s&&u&&!c&&r&&(o.push(u),er(u,r))})}}function Mg(t,e){let o=ne(t).platforms?.filter(r=>r.platform?.toLowerCase()===yo);$g(e,o),F(()=>{Lg(window.fbq?.queue),Bg(t,e)},()=>i.error(new R(`${yo} pixel not present for ${t}.`),100))}var Wi={name:yo,setup:Mg};function Vg(){return new Promise((t,e)=>F(()=>{if(window.Shopify.checkout)return t(window.Shopify.checkout);throw new R("Shopify Checkout object missing")},o=>{i.error(o),e(o)},100))}function Ug(){if(!window.Shopify)throw new R("Shopify global missing")}function qg(t){F(()=>{Ug(),t()},o=>i.error(o),300,300)}var ye={setup:qg,ensureShopifyCheckoutObjectExists:Vg};function wo(t,e){if(typeof e!="function")return;let o=window.fetch;window.fetch=(...r)=>o.apply(this,r).then(n=>{try{typeof r[0]=="string"&&r[0]?.match(t)&&e(n.clone())}catch(s){i.error(new _t(`Fetch Sniffer for "${t}" failing with "${s?.message}" possibly due to unexpected ${r}.`))}return n})}function Nf(t,e,o){let r=window.fetch;window.fetch=function(...n){try{if(typeof n[0]=="string"&&n[0]?.match(t)){if(o)return r.apply(this,n).then(h.setTimeout(()=>e(n),500));e(n)}}catch{i.error(new _t(`Fetch Intercept Error For URL: ${t}`))}return r.apply(this,n)}}function we(t){let e=new Error(t);return e.name="InvalidResponseBodyError",e.status="warn",e.stack=W(e.stack,1),e}var Be=/.*\/cart\/add(\.js|\.json)?(\?.*)?$/gm;function Gg(t,e){return new Promise((o,r)=>{K(t,e,o,r)})}var Of=/.*(\/cart(\.json|\.js)|\/cart\/(change|update)(\.js|\.json)?)(\?.*)?$/gm,Ff="_bcai_cs",Rf=!1;function xr(t){try{window.localStorage.setItem(Ff,JSON.stringify(t))}catch(e){i.error(e)}}function Hg(t){let e=["id","price","product_description","product_type","product_id","quantity","title","vendor","product_title","variant_id","variant_title","sku","handle","featured_image"];return Object.fromEntries(Object.entries(t).filter(([o])=>e.includes(o)))}function br(t){return S({},{attributes:t.attributes,currency:t.currency,total_price:t.total_price,item_count:t.item_count,token:t.token,items:t.items?.map(e=>Hg(e))})}function Bf(){try{let t=window.localStorage.getItem(Ff);return JSON.parse(t)}catch(t){i.error(t);return}}function Wg(){return window?.Shopify?.routes?.root?Gg(`${window.Shopify.routes.root}cart.js`).catch(t=>i.error(t)):Promise.resolve()}function Lf(t){try{return JSON.parse(t)}catch(e){return i.error(new we(e?.message)),null}}function Df(t){let e=[t];t.items?.length&&(e=t.items);let o=e.reduce((u,c)=>{let a={...u};return c?.id!==void 0&&(a[c.id]=c),a},{}),r=Bf();if(!r||!t||Object.keys(o).length===0)return;let n=(r.items??[]).map(u=>{let c={...u},a=o[c?.id];return c.quantityAdded=0,a&&(c.quantityAdded=a.quantity-c.quantity,c.quantity=a.quantity,delete o[c.id]),c});Object.keys(o).forEach(u=>{let c=o[u];n.push({...c,quantityAdded:c.quantity})});let s={...r,items:n,item_count:n.reduce((u,c)=>u+(c.quantity??0),0),total_price:(r.total_price??0)+n.reduce((u,c)=>u+c.quantityAdded*(c.price??0),0)};xr(br(s))}function Kg(){I()||Rf||(Rf=!0,io(Of,t=>{try{t=Lf(t),t&&xr(br(t))}catch(e){i.error(e)}}),wo(Of,t=>{t.json().then(e=>xr(br(e)),e=>{i.error(new we(e?.message))}).catch(e=>i.error(e))}),io(Be,t=>{try{t=Lf(t),t&&Df(t)}catch(e){i.error(e)}}),wo(Be,t=>{t.json().then(e=>Df(e),e=>{i.error(new we(e?.message))}).catch(e=>i.error(e))}))}function jg(){if(I())return Promise.resolve();let t=Bf();return t?Promise.resolve(t):Wg().then(e=>{let o;return e&&(o=br(e),xr(o)),o})}var ce={setup:Kg,getData:jg};var $f="AddPaymentInfo";function Jg(t,e){return t.target.matches(`${["#continue_button",...e].filter(o=>!!o).join(",")}`)}function Yg(){return X()?.replace(/\/$/,"").split("/").pop()}function Xg(t,e){I()||ye.setup(()=>{Pt()==="payment"&&h.addListener(document,"click",o=>{Jg(o,e?.additionalSelectors??[])&&ce.getData().then(r=>{let n=JSON.parse(JSON.stringify(r)),s=jo();s&&(n.total_price=s),t($f,{data:r,platform_event_id:Yg()})})},!0)})}var Mf={eventName:$f,setup:Xg};var Ki="AddToCart",Vf=!1;function zg(t){if(!Vf){Vf=!0;let e=r=>{function n(s,u){return s?!s[u]&&s[u]!==0:!0}if(n(r,"id")||n(r,"quantity")){i.error(new we(`SHOPIFY ${Ki} addToCart request did not return valid item: ${JSON.stringify(r)}`));return}delete r.featured_image,delete r.image,delete r.options_with_values,delete r.sections,r.currency=oe(),t(Ki,{data:r})},o=r=>{let n={};r?.items?(n=JSON.parse(JSON.stringify(r?.items)),n.forEach(s=>e(s))):r&&(n=JSON.parse(JSON.stringify(r)),e(n))};io(Be,r=>{let n=JSON.parse(r);o(n)}),wo(Be,r=>{r.json().then(n=>{o(n)})})}}var Uf={eventName:Ki,setup:zg};var Qg=["button#checkout[type=submit]","button#checkout[type=submit] *","button[name=checkout]","button[name=checkout] *","input[id*=checkout][type=submit]","input[id*=checkout][type=submit] *",'[href*="/checkout"]','[href*="/checkout"] *',"button.rebuy-cart__checkout-button","button.rebuy-cart__checkout-button *","i.rebuy-button-icon","i.rebuy-button-icon *",'form[action="/cart"] [name="checkout"]','form[action="/cart"] [name="checkout"] *'],Zg=["#dynamic-checkout-cart button","#dynamic-checkout-cart button *","#dynamic-checkout-cart [role=button]","#dynamic-checkout-cart [role=button] *",".additional-checkout-buttons button",".additional-checkout-buttons button *",".additional-checkout-buttons [role=button]",".additional-checkout-buttons [role=button] *"];function t_(t,e){return t.target.matches(`${[...Qg,...Zg,...e].filter(o=>!!o).join(",")}`)}function e_(t,e){return new Promise(o=>{C(()=>{h.addListener(document,"click",r=>{if(t_(r,e?.additionalSelectors??[])&&r.isTrusted){let n=r.target.parentNode?.form;(!n||n.checkValidity())&&t()}},!0),o()})})}var qf={setup:e_};function ji(t){let e=new Error(t);return e.name="BadRenderError",e.status="warn",e.stack=W(e.stack,1),e}var o_=new Promise(t=>{C(t)}),r_="div.paypal-checkout-sandbox";function n_(t){return new MutationObserver(e=>{e.forEach(o=>{o.addedNodes.forEach(r=>{r instanceof Element&&r.matches(r_)&&t()})})})}async function i_(t){try{if(I())return;await o_;let e=n_(t);F(()=>{if(!(document.body instanceof Node))throw new Error;e.observe(document.body,{childList:!0})},()=>{i.error(new ji(`document.body did not render in time and had value: ${document.body}`))})}catch(e){i.error(e)}}var Gf={setup:i_};var Hf="InitiateCheckout";function s_(t,e){if(ee())return Promise.resolve();ce.setup();let o=()=>{ce.getData().then(r=>{t(Hf,{data:r})})};return Promise.all([qf.setup(o,e),Gf.setup(o)])}var Wf={eventName:Hf,setup:s_};var Kf="PageView";function a_(t){t(Kf)}var jf={eventName:Kf,setup:a_};var Jf="Purchase";function c_(t){k("platform",E.VIEW_RESPONSE,()=>{ye.setup(()=>{L("page.log_purchase")&&ye.ensureShopifyCheckoutObjectExists().then(e=>{if(e?.order_id)t(Jf,{data:{...e},platform_event_id:e.order_id});else throw new R("Shopify checkout order id is missing")}).catch(e=>{i.error(e)})})})}var Yf={eventName:Jf,setup:c_};function Xf(t,e){return S({},{content_ids:e?.map(o=>o?.product_id).filter(o=>o),currency:t?.currency,content_type:"product_group",num_items:e?.reduce((o,r)=>o+(r?.quantity?r.quantity:0),0)})}function f_(t){let e=t?.line_items??[];return S(Xf(t,e),{order_id:t?.order_id,value:t?.total_price,contents:e?.map(o=>({id:o?.product_id,quantity:o?.quantity,item_price:o?.price,title:o?.title}))})}function zf(t){function e(r){return S({},{id:r?.product_id,quantity:r.quantity,item_price:Te(r.price),title:r.product_title,description:r.product_description,category:r.product_type})}let o=t?.items??[];return S(Xf(t,o),{value:jo()||Te(t?.total_price),contents:o?.map(r=>e(r))})}function u_(t){let e={};return t?.items?.length?e=JSON.parse(JSON.stringify(t?.items[0])):t&&(e=JSON.parse(JSON.stringify(t))),{content_category:e.product_type,content_ids:e.product_id?[e.product_id]:[],content_name:e.title,content_type:"product_group",currency:e.currency||oe(),num_items:e.quantity||1,value:e.price?Te(e.price):void 0}}function p_(t){let e={...zf(t)};return delete e?.num_items,e}function m_(t){return S({},{content_category:t?.type,content_ids:t?.id&&[t?.id],content_name:t?.title,content_type:"product_group",currency:t?.currency,value:Te(t?.price)})}var d_={addtocart:{eventName:"AddToCart",convert:u_},purchase:{eventName:"Purchase",convert:f_,isValid:t=>t?.currency&&t?.total_price},addpaymentinfo:{eventName:"AddPaymentInfo",convert:p_},viewedproduct:{eventName:"ViewContent",convert:m_},pageview:{eventName:"PageView"},initiatecheckout:{eventName:"InitiateCheckout",convert:zf}};function Qf(t,{data:e}={}){let o=d_[t?.toLowerCase()];if(!o||o.isValid&&!o.isValid(e))return;let r=o.convert&&o.convert(e);return{eventName:o.eventName,data:r}}function Ji(t,e){return t.find(o=>o.eventSource==="shopify"&&o.originalEventName===e)}var tu="facebook_ads",Zf=[];function eu(t){return ne(t).platforms?.filter(e=>e.platform?.toLowerCase()===tu)}function l_(t,e){let o=Go(t);eu(e).forEach(n=>{let s=n?.loadPixel===!0,u=n?.pixelId,c=Zf.includes(u);s&&u&&!c&&o&&(Zf.push(u),er(u,o))})}function g_(t,e,o="identity"){let r=Qf(t,e);eu(o).forEach(n=>{let s=Ji(n?.eventTrackers||[],t),u=s?.overrideEventName||s?.originalEventName;function c(){return s&&u&&r&&window.fbq&&n.pixelId}c()&&window.fbq("trackSingle",n.pixelId,u,r?.data,{eventID:e?.platform_event_id})})}var Yi={name:tu,setup:l_,sendEvent:g_};var ou={[Yi.name]:Yi},__=6144,ru,nu,Xi,zi;function h_(t,e,o,{browserEventPlatforms:r}={}){ru=t,nu=e,Xi=o,zi=r??[],zi.forEach(n=>{ou[n]?.setup(Xi,e)})}function E_(t="",e="product_description"){let r=new RegExp(`("${e}":")(.*?)("[,}])`,"g");return[...t.matchAll(r)].reduce((s,[u,c,a,g])=>{if(a.length<50)return s;let _="";return s.replace(u,`${c}${_}${g}`)},t.slice())}function y_(t){if(!t)return t;let e=JSON.stringify(t);return Pe(e)>__&&(e=E_(e)),JSON.parse(e)}function w_(t,e={},{browserEventPlatforms:o}={}){let r=o??zi,n=y_(e);n.platform_event_id||(n.platform_event_id=Xe()),Fe(ru,Xi,t,n),r.forEach(s=>{ou[s]?.sendEvent(t,n,nu)})}var fe={setup:h_,sendEvent:w_};var iu="ViewedProduct";function su(t,e){let o=JSON.parse(JSON.stringify(t));if(o.variants&&o.variants.length){let n=t.variants[0];n.name&&(o.title=n.name),o.variants=[n]}delete o.images,delete o.media,delete o.featured_image,delete o.description;let r=oe();r&&(o.currency=r),e(iu,{data:o})}function v_(t){ye.setup(()=>{if(to()){let e=`${X()}.js${window.location.search}`;U(e,{},o=>su(o,t))}})}var au={eventName:iu,setup:v_,sendProductDataToPlatform:su};var Qi="shopify";function S_(t){let e=ne(t),[o]=e?.platforms?.filter(r=>r?.platform===Qi.toUpperCase());return o}function I_(t,e){let o=S_(t),r=o?.eventTriggerSettings;fe.setup(Qi,t,e,o),Mf.setup(fe.sendEvent,r?.AddPaymentInfo),Uf.setup(fe.sendEvent,r?.AddToCart),Wf.setup(fe.sendEvent,r?.InitiateCheckout),jf.setup(fe.sendEvent,r?.PageView),Yf.setup(fe.sendEvent,r?.Purchase),au.setup(fe.sendEvent,r?.ViewedProduct)}var Zi={name:Qi,setup:I_};var A_="shopify_webhook";function x_(t,e){function o(r){if(!r)return!1;try{let n=JSON.parse(r);return!!(n?.site_name&&n?.ids?.length)}catch{return!1}}ce.setup(),ce.getData().then(r=>{if(ee()&&!o(r?.attributes?._bcai)){let n={method:"POST",body:JSON.stringify({attributes:{_bcai:JSON.stringify({site_name:p,ids:nt(e)})}}),headers:{Accept:"application/json","Content-Type":"application/json"}};U(`${window?.Shopify?.routes?.root||"/"}cart/update.js`,n,()=>{},()=>{i.error(new _t("Cart update failed"))})}})}var ts={name:A_,setup:x_};function $t(t={}){let e="https://api.blackcrow.ai/user/?";Vt(p)&&(e="https://api.sandbox.blackcrow.ai/user/?");let o={site_name:p,ids:t},r=JSON.stringify(o);Jt(e,r),Pf(ae,o)}function b_(t){function e(o){let r=nt(t),n=Tt("e",yn(o));r.length&&n.length&&$t(r.concat(n))}Na(e)}var es={name:"email",setup:b_};function T_(t){function e(o){let r=nt(t),n=Tt("p",Mn(o));r.length&&n.length&&$t(r.concat(n))}mc(e)}var os={name:"phone",setup:T_};function $e(t,e){try{window.sessionStorage.setItem(t,JSON.stringify(e))}catch{}}function vo(t,e){return zt(t)===e?!0:($e(t,e),!1)}var P_="_kx";function k_(t){let e=nt(t);function o(s){let u=Tt("klx",s);e.length&&u.length&&$t(e.concat(u))}function r(){return ge()}let n=r();o(G(P_)),vo("_bcai_s_keid",n)||o(n)}var rs={name:"klaviyo",setup:k_};function C_(t){function e(){let g=G(ea);return g?.trim().length>0?`fb.1.${Date.now()}.${g}`:A(Oo)}function o(){return A(Yt)}let r=nt(t);function n(g){let _=Object.entries(g).reduce((y,[N,$])=>y.concat(Tt(N,$)),[]);r.length&&_.length&&$t(r.concat(_))}let[s,u]=[e(),o()],[c,a]=[vo("_bcai_s_fbc",s),vo("_bcai_s_fbp",u)];n({...!c&&{fbc:s},...!a&&{fbp:u}})}var ns={name:"facebook_ads",setup:C_};function N_(t){let e=nt(t),o=hc();o&&e.length&&o.forEach(r=>{let n=[];n=n.concat(Tt("fn",Jo(r.fn))),n=n.concat(Tt("ln",Jo(r.ln))),n=n.concat(Tt("fln",Jo(r.fln))),n.length&&$t(e.concat(n))},[])}var is={name:"name",setup:N_};function ss(t,...e){return new Promise((o,r)=>{t(...e,n=>o(n),n=>r(n))})}var O_={[Hi.name]:Hi,[Wi.name]:Wi,[Zi.name]:Zi,[ts.name]:ts},R_={[es.name]:es,[os.name]:os,[rs.name]:rs,[ns.name]:ns,[is.name]:is};function L_(t,e){e.forEach(o=>{let r=R_[o];r&&typeof r.setup=="function"&&r.setup(t)})}function D_(t,e){t.length!==0&&e&&e.forEach(o=>{let r=O_[o];r&&typeof r.setup=="function"&&r.setup(ae,t)})}function F_(t){return t.filter(e=>e.source==="cookie"&&e.cookieLoadUrl)}function B_(t){let e=[];return t.forEach(o=>{A(o.value)||e.push(ss(U,o.cookieLoadUrl,{mode:"no-cors",credentials:"include"}))}),e}function $_(){let t=ne(ae),e=t.userAttributes||[],o=t.userIdentifiers||[],r=F_(o),n=[],s=new Set((t.platforms||[]).map(c=>c?.platform?.toLowerCase()).filter(c=>c));r.length&&(n=B_(r));function u(){C(()=>{L_(o,e)}),D_(o,s)}return lo(n).then(u())}function M_(){return $_(),{}}var cu={appName:ae,init:M_};var Tr={audience:Gc,measure:Hc,pwo:ff,target:xf,identity:cu};var So={};function V_(t){let e=qt(t.appName);if(typeof t.init=="function"&&e.active)return t.init();let o=Zo(t.appName),r={};return o.forEach(n=>{r[n]=Promise.resolve()}),r}function U_(t,e){let o=qt(t.appName);return typeof t.sendAppScores=="function"&&o.active?t.sendAppScores(e):Promise.resolve()}function fu(){w(Tr,(t,e)=>{qt(e).active&&(So[t.appName]=t)})}function uu(){let t={};return w(So,e=>{t[e.appName]=V_(e)}),t}function as(t){if(Vt(p))return Promise.resolve();let e=[];return w(So,o=>{e.push(U_(o,t[o.appName]))}),Promise.all(e)}function pu(){w(So,t=>{typeof t.cleanup=="function"&&t.cleanup()}),So={}}function J(t){k("platform",E.VIEW_RESPONSE,e=>t(e))}function mu(t,e){return We(t),as(e)}function Pr(t,e){We(t),Fa(t.history_id),ec(),$n(),ja(),as(e).then(()=>{Bt.sendValidationEvent({location:"view_request"},"FB view event not sent")}),it("platform",E.VIEW_RESPONSE,t)}var kr=`${f}_overrides`,du=!1,Cr=null;function q_(){Cr=null,$e(kr,{})}function lu(t){let e=S({},Cr||zt(kr),t);Cr=e,$e(kr,e),du&&console.log(`Your <${f}> settings will apply on the next page load. Please refresh the page.`)}function G_(){w(Tr,(t,e)=>{k("platform",`force_${e}`,()=>{lu({apps:{[e]:{active:!0}}})})})}function gu(){k("platform",E.OVERRIDES,lu),k("platform",E.CLEAR_OVERRIDES,q_),G_()}function _u(){return du=!0,Cr||zt(kr)}function hu(){return fu(),uu()}var Eu=!1;function H_(){let t=[...document.querySelectorAll("[data-shipping-method-label-title]")];if(t.length){let e=[];return t.forEach(o=>{let n=new RegExp(/([A-Za-z0-9- ]*)(?:\s)(\([A-Za-z0-9- ]*\))/).exec(o.dataset.shippingMethodLabelTitle.trim());n&&n.length&&e.push({method:n[1],duration:n[2]})}),e}return null}function cs(){let t=[...document.querySelectorAll("[data-checkout-total-shipping]")],e=H_();if(t.length&&e){let o=[];return t.forEach((r,n)=>{let s={...e[n],cost:r.dataset.checkoutShippingRate,selected:r.checked};o.push(s)}),{custom_dimensions:{tax_amount:Ze(),shipping_options:o}}}return null}function W_(){let t=[...document.querySelectorAll("[data-review-section]")];if(t.length){let o=new RegExp(/([0-9A-Za-z- ]*)(?:\s)(\([A-Za-z0-9- ]*\))(?:\s*·*\s*)(.*)/).exec(t[0].textContent.trim());if(o&&o.length)return{custom_dimensions:{tax_amount:Ze(),selected_shipping_option:{method:o[1],cost:o[3]}}}}return null}function K_(){let t=W_();t&&i.push({trigger:E.CA_PAYMENT,data:t})}function j_(){let t=cs();t&&i.push({trigger:E.CA_SHIPPING_EXIT,data:t})}function fs(){C(()=>{let t=Pt();t==="payment"&&K_(),t==="shipping"&&!Eu&&(h.addListener(window,"beforeunload",()=>{j_()}),Eu=!0)}),J(()=>{k("platform",E.CA_PAYMENT,t=>{O(T.CA_PAYMENT,t)}),k("platform",E.CA_SHIPPING_EXIT,t=>{O(T.CA_SHIPPING_EXIT,t)})})}var J_="bcai_ca";function yu(t){let e=G(J_);return e==="test"?!0:e==="control"?!1:!!t}function wu(t){let e=t.comparison_type,o=t.comparison_group,r=t.score_range,s=(ut(`${ht}.scores`)||[]).find(u=>u.comparison_type===e&&u.comparison_group===o);return yu(s&&r.indexOf(s.score)!==-1)}function vu(t){let o=[...document.getElementsByClassName("reduction-code__text")].find(n=>n.textContent===t),r=document.getElementsByClassName("tags-list").length;return!!(r===1&&o||r===0)}function Su(t,e){return e?t<=e:!0}function Iu(t,e){return e?e<=t:!0}function Au(){return document.getElementsByClassName("recurring-total-label-content").length===0}function xu(t){return yu(t&&q({name:"checkout_abandonment",allocations:[{percent:t,value:!0}]}))}function bu(t,e,o,r,n,s,u,c){let a=o&&r&&t&&e&&s&&u&&c;return a&&n?"treatment":a&&!n?"control":"not_eligible"}function Tu(t){let e={experiment_config:te(t),resolved_experiment_config:xt(t)};return Object.keys(e.experiment_config).length>0?e:{}}function Me(t){return(t*.01).toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2})}var Y_="checkout_abandonment",X_="checkout_abandonment.banner.activate",Pu=!1;function Ve(){return xt(Y_)?.data?.free_shipping_test||{}}function us(){let t=Ve().version;if(t)return parseInt(t.replace("_",""),10)}function Nr(){Pu||window.dataLayer&&L("config.google_optimize.container_id")&&(window.dataLayer.push({event:X_}),Pu=!0)}function ku(t,e){let o=document.getElementsByClassName("order-summary-toggle");o.length&&o[0].click();let r=document.getElementById("checkout_reduction_code");r&&e.coupon_code&&(r.value=e.coupon_code);let n=document.getElementById("checkout_submit");n&&(n.removeAttribute("disabled"),n.classList.remove("btn--disabled"),n.click()),h.setTimeout(()=>{let s=e.shipping_cost||595;if(s&&us()===15&&oe()==="USD"){let a=Me(t+s),g=document.querySelector("dl.total-recap");if(g){let N=kt("dt",{className:"visually-hidden",innerHTML:"<span>Total price</span>"}),$=kt("dd",{className:"order-summary__emphasis skeleton-while-loading",innerHTML:`<span>${a}</span>`});$.style.textDecoration="line-through",g.prepend(N,$)}let _=document.querySelector("tr.total-line--subtotal");_&&(_.querySelector("span.order-summary__emphasis").textContent=a);let y=document.querySelector("tr.total-line--reduction");y&&(y.querySelector("span.reduction-code__text").textContent="FREE SHIPPING",y.querySelector("td.total-line__price").querySelector("span.order-summary__emphasis").textContent=`-${Me(s)}`)}[...document.getElementsByClassName("total-line--shipping")].forEach(a=>{a.style.display="none"}),[...document.getElementsByClassName("reduction-code__text")].forEach(a=>{a.style.opacity="1"})},2e3),Nr()}var Cu=!1;function z_(t){let e=t.hotjar,o=t.hotjar_ratio_of_test_bucket;return e&&o&&q({name:"hotjar",allocations:[{percent:o,value:!0}]})}function Q_(t){let e=t.hjid,o=t.version;e&&o&&(function(r,n,s,u,c,a){r.hj=r.hj||function(){(r.hj.q=r.hj.q||[]).push(arguments)},r._hjSettings={hjid:e,hjsv:6},c=n.getElementsByTagName("head")[0],a=n.createElement("script"),a.async=1,a.src=s+r._hjSettings.hjid+u+r._hjSettings.hjsv,c.appendChild(a)}(window,document,"https://static.hotjar.com/c/hotjar-",".js?sv="),window.hj("event","bcai_ca_test"),window.hj("event",`bcai_ca_test_${o}`))}function ps(){let t=Ve();!Cu&&z_(t)&&(Q_(t),Cu=!0)}var Nu=!1;function Z_(t){let e="cart/add",o=E.ADD_TO_CART;fr(e,()=>{i.push({trigger:o})}),Nf(e,()=>{i.push({trigger:o})},t)}function th(t){h.addListener(window,"click",e=>{let o=v(e,"target.className");(e.target.getAttribute("name")==="checkout"||t&&typeof o=="string"&&o.match(t))&&i.push({trigger:"initiate_checkout"})})}function ms(t){let e=[];return t.items.forEach(o=>{e.push({sku:o.sku,id:o.id,quantity:o.quantity})}),t.items=e,t}function ds(t,e){return t.items&&(t=ms(t)),{cart_json:t,...Tu(e)}}function ls(t,e,o,r){U("/cart.json",{servletName:"ShopifyCart"},n=>{let s={custom_dimensions:ds(n,r)};o?e(o,S({},t,s)):e(S({},t,s))})}function gs(t){Nu===!1&&(F(()=>{if(Ft()&&L("config.shopify.add_to_cart.active"))return Z_(!0);throw new Error("Shopify globals not found")}),L("config.shopify.checkout.active")&&th(L("config.shopify.checkout.class_name")),Nu=!0),J(()=>{Ft()&&L("config.shopify.add_to_cart.active")&&k("platform",E.ADD_TO_CART,e=>{ls(S({},e,{page_id:"AddToCart"}),t,void 0,"checkout_abandonment")}),k("platform",E.INITIATE_CHECKOUT,e=>t(S({},e,{page_id:"checkout"})))})}var Or="checkout_abandonment",eh="bcai_ca";function oh(){return xt(Or)?.data?.data_logging||{}}function _s(){return xt(Or).active}function rh(){let t=Ve().exclude_channels,e=vt(x());function o(r,n){return e[r]===n}t&&(t.values||[]).forEach(n=>{o(t.param,n)&&V(Yr,"true")})}function nh(){function t(r){return Object.keys(S({},r)).filter(n=>n.match("Config$")).map(n=>n.replace(/Config$/,""))}let e=v(window,"Shopify.Checkout.dynamicCheckoutPaymentInstrumentsConfig.paymentInstruments");return{custom_dimensions:{checkout_options:e?t(e):void 0}}}function ih(t={}){let e=bt(),o=oh().checkout_data_page_ids||[];if(_s()&&o.indexOf(e)!==-1){let r=Pt(),n;r==="contact"?n=S({},t,nh()):r==="shipping"?n=S({},t,cs()):n=t,i.push({trigger:E.CA_CART_CHECKOUT,payload:n})}}function Ou(t){C(()=>{ih(t)});let e=bt(),o=Ve();o.test_page_id&&_s()&&e===o.test_page_id&&U("/cart.json",{servletName:"ShopifyCart"},r=>{let n=r.total_price,s=wu(o),u=vu(o.coupon_code),c=Su(n,o.max_total_price),a=Iu(n,o.min_total_price),g=xu(o.test_bucket_ratio),_=Au(),y=!A(ta),N=!A(Yr),$=bu(s,u,c,a,g,_,y,N),lt=$==="treatment",Ot=o.version,Kt=G(eh),Mt=S({eligible:lt,score_in_range:s,coupon_empty:u,cart_value_below_threshold:c,cart_value_above_threshold:a,test_bucket:g,non_subscription_item:_,pii_not_submitted:y,not_excluded_by_channel:N},{force_bucket:Kt}),Se={custom_dimensions:{...ds(r,Or),eligibility:Mt,experiment_group:Kt?"not_eligible":$,version:Ot}};O(T.CA_TEST,Se),lt&&(ps(),o.a_a_test||(V(Jr,"true",30),o.display_banner_only?C(()=>Nr()):C(()=>ku(n,o))))})}function Rr(){if(rh(),A(Jr)){ps();let t=us();(t===13||t===14)&&_s()&&ee()&&!v(window,"Shopify.checkout")&&Nr()}J(()=>{k("platform",E.CA_CART_CHECKOUT,t=>{ls(t,O,T.CA_CART_CHECKOUT,Or)}),Ou()})}var Ru=!1;function hs(){Ru||(C(()=>{if(!["korres","dropps","theadventurechallenge","pacificabeauty","nativecos"].includes(p.toLowerCase()))return;let e,o;window.DeviceOrientationEvent&&(DeviceOrientationEvent.requestPermission||h.addListener(window,"deviceorientation",r=>{let[n,s,u]=[r.alpha,r.beta,r.gamma];o={alpha:n,beta:s,gamma:u}},{once:!0})),window.DeviceMotionEvent&&(DeviceMotionEvent.requestPermission||h.addListener(window,"devicemotion",r=>{let[n,s,u]=[r.acceleration.x,r.acceleration.y,r.acceleration.z];e={x:n,y:s,z:u}},{once:!0})),h.addListener(window,"beforeunload",()=>{if(o||e){let r={custom_dimensions:{motion:e,orientation:o}};O(T.DEVICE_MOTION,r)}})}),Ru=!0)}var Lu=!1;function Du(t){let e=[...document.querySelectorAll(t)],o=e.length>0?e[0].textContent:null;return o?o.trim():null}function Fu(){if(ee()){let t=document.querySelector(".tags-list"),e=t?t.querySelector(".reduction-code__text"):null,o=e?e.textContent:null,r=Du("[data-checkout-discount-amount-target]"),n=Du("[data-checkout-subtotal-price-target]");if(o){let s={custom_dimensions:{discount_code:o,discount_value:r,subtotal:n}};i.push({trigger:E.DISCOUNT_APPLIED,data:s})}}}function Es(){C(Fu),J(()=>{k("platform",E.DISCOUNT_APPLIED,t=>{O(T.DISCOUNT_APPLIED,t)})}),Lu===!1&&(h.addListener(window,"beforeunload",()=>{Fu()}),Lu=!0)}function Io(t){i.push({trigger:E.DISCOUNT_INTERACTION,data:{custom_dimensions:{interaction_type:t}}})}function sh(){function t(){h.setTimeout(()=>{document.getElementById("error-for-reduction_code")?Io("invalidated"):Io("validated")},3e3)}let e=document.getElementById("checkout_reduction_code");e&&h.addListener(e,"focus",()=>{Io("focused_input")});let o=document.getElementById("checkout_submit");o&&h.addListener(o.form,"submit",t),[...document.getElementsByClassName("tag")].forEach(n=>{let s=n.querySelector("span.reduction-code");s&&h.addListener(s,"click",()=>{Io("clicked_code")});let u=n.querySelector("button[type=submit]");u&&h.addListener(u,"click",()=>{Io("clicked_remove")})})}function ys(){C(sh),J(()=>{k("platform",E.DISCOUNT_INTERACTION,t=>{O(T.DISCOUNT_INTERACTION,t)})})}function ws(){if(Pt()!=="contact")return;let t,e,o={custom_dimensions:{initial_opt_in_status_email:null,initial_opt_in_status_phone:null,final_opt_in_status_email:null,final_opt_in_status_phone:null}};C(()=>{t=document.getElementById("checkout_buyer_accepts_marketing"),e=document.getElementById("ps_accepts_sms"),o.custom_dimensions.initial_opt_in_status_email=t?t.checked:null,o.custom_dimensions.initial_opt_in_status_phone=e?e.checked:null;let r=document.getElementById("continue_button");r&&h.addListener(r,"click",()=>{e||(e=document.getElementById("ps_accepts_sms")),o.custom_dimensions.final_opt_in_status_email=t?t.checked:null,o.custom_dimensions.final_opt_in_status_phone=e?e.checked:null,O(T.MARKETING_CHECKOUT_EVENT,o)})})}var wt={platforms:{attentive:{submitEvents:["EMAIL_LEAD"]},bounceExchange:{submitEvents:["input_submission","campaign_submit"]},justUno:{},klaviyo:{submitEvents:["submit"]},sleekNote:{submitEvents:["submit"]},wisePops:{submitEvents:["after-form-submit"]},generic:{}},platformIdentifiers:["kl-","klaviyo","attn","fieldcaptureform","sleeknote","justuno","bx","bounceexchange","wisepops"],platformIdentifierExceptions:["kmail"],metadataViolators:["phone","email","sentIdentifiers"],page_id:"EmailSubmit"};var{platformIdentifiers:ah,platformIdentifierExceptions:ch,metadataViolators:fh}=wt,$u=(t,{qualified:e,resolveTarget:o})=>t?e(t)?o?t:!0:t.parentElement?$u(t.parentElement,{qualified:e,resolveTarget:o}):!1:!1,uh=t=>t.style.position==="fixed"||t.style.top==="0"||t.style.top==="0px",ph=t=>t.nodeName.toLowerCase()==="iframe",mh={form:{qualified:t=>t.nodeName.toLowerCase()==="form",resolveTarget:!0},footer:{qualified:t=>t.nodeName.toLowerCase()==="footer",resolveTarget:!1},overlay:{qualified:t=>uh(t)||ph(t),resolveTarget:!1}},vs=(t,e)=>$u(t,mh[e]),Mu=t=>vs(t,"form"),dh=t=>vs(t,"footer"),lh=t=>vs(t,"overlay"),gh=t=>{if(!t)return"unknown";try{if(lh(t))return"overlay";if(dh(t))return"footer";if(bt()==="checkout")return"checkout"}catch{i.error(new R("email location failed"))}return"unknown"},Vu=()=>{let t=bt()==="checkout",e=document.querySelector('input[type="checkbox"]');return t&&e&&!e.checked},_h=(t,e)=>t.some(o=>typeof o=="string"&&o.toLowerCase().includes(e)),Bu=(t,e)=>e.some(_h.bind(null,t)),Uu=t=>{let e=[...Array.from(t.classList),t.action,t.id];return Bu(e,ah)&&!Bu(e,ch)},hh=t=>{window._learnq=window._learnq||[],window._learnq.push(["identify",{$email:t}])},Eh=(t,e)=>{let o={...t};return w(Object.keys(o),r=>{w(e,n=>{r.includes(n)&&(o[r]="redacted")})}),o},yh=t=>{i.push({trigger:E.VIEW,data:{page_id:wt.page_id,custom_dimensions:t}})},dt=(t,e)=>{let o=t.email||t.$email,r=_n(o);hn(r)&&(be(r),hh(r),yh({...Eh(t,fh),location:gh(e)}),mt.piiWasSubmitted())};var qu=["checkout","account","login"],wh=bt(),vh=X(),Gu=t=>{if(qu.includes(wh)||qu.some(o=>vh.includes(o))||Vu())return;let e=t.value;e&&dt({email:e},document.activeElement)},Sh=()=>{let t;w(wn(),e=>{if(t=Mu(e),t){if(Uu(t))return;h.addListener(t,"submit",()=>{Gu(e)})}else h.addListener(e,"focusout",()=>{Gu(e)})})};function Ss(){C(()=>{h.setTimeout(Sh,5e3)})}var{submitEvents:Ih}=wt.platforms.attentive;function Is(){h.addListener(window,"message",t=>{let{origin:e,data:o,target:r}=t;if(e.includes(".attn.tv")){let{__attentive:n}=o;Ih.includes(n?.action)&&dt(n,r.document.activeElement)}})}var Ah=(t,e)=>{if(e.isWrapped)return e;function o(){try{t.apply(this,arguments)}catch{}return e.apply(this,arguments)}return o.isWrapped=!0,o},Lr=(t,e)=>Ah(t,typeof e=="function"?e:()=>{});var{submitEvents:xh}=wt.platforms.bounceExchange;function As(){h.setTimeout(()=>{window.bouncex=window.bouncex||{},window.bouncex&&typeof window.bouncex.push=="function"&&(window.bouncex.push=Lr((...t)=>{let{email:e,source:o}=t[0][1];xh.includes(o)&&dt({email:e})},window.bouncex.push))},8e3)}function xs(){h.setTimeout(()=>{window.ju_callback=Lr((t,e)=>{dt({email:e})},window.ju_callback)},5e3)}var{submitEvents:bh}=wt.platforms.klaviyo;function bs(){h.addListener(window,"klaviyoForms",t=>{let{detail:e,target:o}=t,{type:r,metaData:n}=e;bh.includes(r)&&dt(n,o.document.activeElement)})}var{submitEvents:Th}=wt.platforms.sleekNote;function Ts(){h.addListener(window,"sleekNote",t=>{let{data:e,target:o}=t;Th.includes(e.type)&&dt(e.data,o.activeElement)})}var{submitEvents:Ph}=wt.platforms.wisePops;function Ps(){h.setTimeout(()=>{let t=window.WisePopsObject||"";Ph.forEach(e=>{window[t]("listen",e,o=>{let{target:r}=o,n=r.querySelector('input[type="email"]')?.value;dt({email:n},r)})})},5e3)}var kh={attentive:Is,bounce_exchange:As,just_uno:xs,klaviyo:bs,sleek_note:Ts,wise_pops:Ps};function ks(){let t=L("config.emailFormTracking"),e=t?.active||!1,o=t?.platforms||[];e&&e===!0&&(Ss(),o.map(r=>r.name).forEach(r=>{let n=kh[r];n&&n()}))}function ve(){let t=vt(window.location.search).variant,e=t?t.split("?")[0]:null;if(e)return parseInt(e,10);let o=[...document.querySelectorAll('input[name="id"]')];if(o.length===1)return parseInt(o,10);let r=window.ShopifyAnalytics?.meta;if(r?.product?.id){let n=[...document.querySelectorAll(`input[name="id"][data-productid="${r?.product?.id}"]`)];if(n.length===1&&n[0]?.value)return parseInt(n[0].value,10)}if(r?.product?.variants&&r?.selectedVariantId){let n=parseInt(r?.selectedVariantId,10),s=r?.product?.variants.filter(c=>c.id===n);if(window.ReCharge&&window.ga&&document.querySelector('[name="properties[shipping_interval_frequency]"]')?.value){let c=window.ReCharge.products.filter(a=>typeof a.variant_to_duplicate[`${n}`]=="string");if(c.length===1)return c[0].variant_to_duplicate[`${n}`]}if(s.length)return n}return null}var Hu=!1;function Ch(t){return t.filter(o=>o.available===!0).length>0}function Nh(t,e){let o=t.filter(r=>r.id.toString()===e);return o[0]?o[0].available:!0}function Wu(){U(`${x().split("?")[0]}.js`,{},t=>{let e=ve(),o=t.variants&&t.variants.length>1,r={custom_dimensions:{out_of_stock:{in_stock:!1}}};e&&o&&!Nh(t.variants,e)?(r.custom_dimensions.out_of_stock.product_id=e,i.push({trigger:E.OUT_OF_STOCK,data:r})):!e&&o&&!Ch(t.variants)?(r.custom_dimensions.out_of_stock.product_id=t.variants[0].id,i.push({trigger:E.OUT_OF_STOCK,data:r})):!e&&!o&&!t.available&&(t.variants?r.custom_dimensions.out_of_stock.product_id=t.variants[0].id:r.custom_dimensions.out_of_stock.product_id=t.id,i.push({trigger:E.OUT_OF_STOCK,data:r}))},()=>({}))}function Oh(){let t=document.URL;h.addListener(document,"change",()=>{let e=document.URL;ve()&&e&&t!==e&&(t=e,Wu())})}function Cs(){C(()=>{to()&&(Wu(),Hu===!1&&(Oh(),Hu=!0))}),J(()=>{k("platform",E.OUT_OF_STOCK,t=>{O(T.OUT_OF_STOCK,t)})})}var Ku=!1;function Rh(t){let o=[{type:"shop_pay",button:[...document.querySelectorAll('[data-testid="ShopifyPay-button"]')]},{type:"google_pay",button:[...document.querySelectorAll('[data-testid="GooglePay-button"]')]},{type:"apple_pay",button:[...document.querySelectorAll('[data-testid="ApplePay-button"]')]}].filter(r=>r.button[0]===t.target);if(o.length){let r={custom_dimensions:{type:o[0].type}};i.push({trigger:E.PAYMENT_METHOD_CLICK,data:r})}}function Ns(){Ku||(C(()=>{Pt()==="contact"&&(h.addListener(window,"blur",()=>{if(document.activeElement.title==="Checkout with PayPal"){let e={custom_dimensions:{type:"paypal"}};i.push({trigger:E.PAYMENT_METHOD_CLICK,data:e})}}),h.addListener(document,"click",e=>{Rh(e)}))}),Ku=!0),J(()=>{k("platform",E.PAYMENT_METHOD_CLICK,t=>{O(T.PAYMENT_METHOD_CLICK,t)})})}var ju=!1;function Lh(t){let e=t.ratio;return t.active&&e&&q({name:"hotjar",allocations:[{percent:e,value:!0}]})}function Dh(t,e){t&&e&&e.length&&(function(o,r,n,s,u,c){o.hj=o.hj||function(){(o.hj.q=o.hj.q||[]).push(arguments)},o._hjSettings={hjid:t,hjsv:6},u=r.getElementsByTagName("head")[0],c=r.createElement("script"),c.async=1,c.src=n+o._hjSettings.hjid+s+o._hjSettings.hjsv,u.appendChild(c)}(window,document,"https://static.hotjar.com/c/hotjar-",".js?sv="),w(e,o=>{window.hj("event",o)}))}function Ju(t,e){!ju&&Lh(e)&&(Dh(e.hjid,t),ju=!0)}function Fh(t){document.documentElement.dispatchEvent(new CustomEvent("cart:refresh",{bubbles:!0}));let e=document.querySelector(t.cartCountSelector)||{},o=B(e.innerText.replace(/\D/g,""));e.innerText=(o+1).toString();let r=document.getElementById("mini-cart")||{};r.open=!0}function Bh(t,e){t.innerHTML='<img class="loading_image" src="https://init.blackcrow.ai/public/loading.svg">',h.setTimeout(()=>{t.innerHTML=e},2e3)}function $h(t,e){let o=kt("span",{className:"sticky-call-to-action-headline",innerHTML:t});return h.addListener(o,"click",()=>{e.custom_dimensions.predictive_button.action="clicked headline",i.push({trigger:E.PREDICTIVE_BUTTON,data:e})}),o}function Yu(t,e,o,r){let n={method:"POST",body:JSON.stringify(t),headers:{Accept:"application/json","Content-Type":"application/json"}};U("/cart/add.js",n,()=>{o.name.match("checkout")?window.location.href=r:Fh(e)})}function Xu(t,e,o,r,n,s){let u=o.singleItemCheckout?`/cart/${n}:1`:"/checkout",c={items:[{id:n,quantity:1}]};if(e.length&&!s&&Bh(t,e),o.addToCartOverrideSelector&&r.name.match("cart")&&X()?.includes("products")){document.querySelector(o.addToCartOverrideSelector)?.click();return}if(r?.type==="shop-pay"&&(u="/checkout?payment=shop_pay"),window.ReCharge&&window.ga){let a=document.querySelector('[name="properties[shipping_interval_frequency]"]')?.value,g=document.querySelector('[name="properties[shipping_interval_unit_type]"]')?.value;a&&g&&(c.items[0].properties={shipping_interval_frequency:a,shipping_interval_unit_type:g}),U("/cart.js",{},_=>{let y=document.querySelectorAll(`input[name='id'][value='${n}']`).length===0;if(_.items.filter($=>typeof $.properties?.shipping_interval_frequency=="string").length||y){let $=`&cart_token=${(document.cookie.match("(^|; )cart=([^;]*)")||0)[2]}`,lt=`myshopify_domain=${window.Shopify.shop}`,Ot=`&${window.ga.getAll()[0].get("linkerParam")}`;u=`https://checkout.rechargeapps.com/r/checkout?${lt}${$}${Ot}`}})}if(window.ReChargeWidget?.getWidgets){let a=window.ReChargeWidget.getWidgets()[0]||{},g=a.state?.selectedVariantId,_=a.state?.sellingPlanId,y=a.productData?.selling_plan_groups[0]?.selling_plan_group_id,N=a.subscriptionActive||!1,$={id:g,sellingPlanId:_,sellingPlanGroupId:y,isSubscription:N};if(g&&_&&y&&window.ReChargeWidget?.api?.postToCart){window.ReChargeWidget.api.postToCart($).then(()=>{window.location.href=u});return}}if(window.og?.store?.getState()?.optedin&&window.og?.store?.getState()?.config?.frequencies?.length>0){let a=window.og?.store?.getState()?.optedin;a&&a.length&&(c.items[0].id=a[a.length-1].id,c.items[0].selling_plan=a[a.length-1].frequency)}window.Rebuy?U(`${x().split("?")[0]}?view=metafield`,{},a=>{a.metafields.erpLineItem&&(c.items[0].properties={"_erp-line-item":a.metafields.erpLineItem}),Yu(c,o,r,u)}):Yu(c,o,r,u)}function Os(t,e,o,r,n,s=!1){h.addListener(t,"click",()=>{s?n.custom_dimensions.predictive_button.action="clicked alternative option":n.custom_dimensions.predictive_button.action="clicked button";let u=ve();if(u)Xu(t,e,o,r,u,s);else{let c=document.querySelector('a[role="button"]'),a=X()?.includes("pages")&&c?.href?`${c.href}.js`:`${x().split("?")[0]}.js`;U(a,{},g=>{let _=g.variants.filter(y=>y.available===!0);_.length!==0&&(u=_[0].id,Xu(t,e,o,r,u,s))})}i.push({trigger:E.PREDICTIVE_BUTTON,data:n})})}function zu(t,e,o,r){let n=kt("div",{className:`sticky-call-to-action-container ${e.animated?"animated":""}`}),s;if(e.headline){let a=$h(e.headline,o);n.append(a)}if(r?.type==="shop-pay"){let a=kt("script",{src:"https://cdn.shopify.com/shopifycloud/shop-js/client.js"}),g=document.createElement("shop-pay-button");return g.setAttribute("store-url",`${window.location.origin}`),n.append(a),n.append(g),Os(g,"",e,r,o),n}let u=r.text;s={name:"add",type:"button",innerHTML:u,"accept-charset":"UTF-8",className:`sticky-call-to-action-submit ${r.name}`};let c=kt("button",s);if(n.append(c),Os(c,u,e,r,o),r.alt_option_text){s={innerHTML:r.alt_option_text,className:`sticky-call-to-action-submit-alt-option ${r.name}`};let a=kt("a",s),g=document.querySelector(r.alt_option_override_container);g?g.append(a):n.append(a);let _={...r};r.name.match("checkout")?_.name="cart":_.name="checkout",Os(a,r.alt_option_text,e,_,o,!0)}return n}var Mh="event",Vh="google_analytics";function Uh(t){t.message===b?i.error(new R(`${Vh} globals not found`)):i.error(t)}function Qu(t,e){let o=D(["blackcrow",t,e]);F(()=>{if(typeof window.ga=="function"){window.ga("send",{hitType:Mh,eventCategory:o,eventAction:null,eventLabel:null,nonInteraction:!0});return}if(typeof window.gtag=="function"){window.gtag("event",o,{event_category:o,event_label:null,non_interaction:!0});return}throw new Error(b)},Uh)}var qh="bcai_pbtn",Gh="bcai_pbgn",Hh="bcai_pbs",Rs="sticky_call_to_action";function Wh(){let t=G(qh);return t&&t.length?t:!1}function Kh(){let t=G(Gh);return["control","treatment"].includes(t)?t:!1}function jh(){let t=G(Hh);return parseFloat(t)>=0?t:!1}function Jh(){return xt(Rs)?.data||{}}function Yh(t,e,o,r){let n=document.querySelector(t.original_button_selector),s=e.querySelector(".sticky-call-to-action-submit");if(n){let u=t.text;if(t.include_prices){let c=o.variants.find(g=>g.id===r)||{};u+=` - ${Me(c.price||o.price)}`;let a=document.querySelector(`input[value="${r}"]`);h.addListener(a,"change",()=>{a.value.length&&(c=o.variants.find(g=>g.id===parseInt(a.value,10))||{},n.innerHTML=`${t.text} - ${Me(c.price||o.price)}`)})}n.innerHTML=u,h.addListener(n,"click",c=>{c.preventDefault(),s.click()})}}function Xh(t,e,o){let r=document.querySelector(t),n=document.querySelector(e);if(r&&h.addListener(r,"click",()=>{o.custom_dimensions.predictive_button.action="clicked button",i.push({trigger:E.PREDICTIVE_BUTTON,data:o})}),n)if(!n.attributes.hidden)o.custom_dimensions.predictive_button.action="render",i.push({trigger:E.PREDICTIVE_BUTTON,data:o});else{let s=new MutationObserver(()=>{n.attributes.hidden||(o.custom_dimensions.predictive_button.action="render",i.push({trigger:E.PREDICTIVE_BUTTON,data:o}),s.disconnect())});s.observe(n,{attributes:!0,childList:!0})}}function Zu(t,e,o,r,n){let s=document.querySelector(t.openMenuSelector);le()>=r&&!e.classList.contains("active")&&wa()<464&&s===null?(e.classList.add("active"),o.custom_dimensions.predictive_button.action="render",i.push({trigger:E.PREDICTIVE_BUTTON,data:o})):n&&e.classList.contains("active")&&le()<r&&e.classList.remove("active")}function zh(t){let e=Kh();return e||t.experiment_group}function tp(t,e=[]){let o=jh()||e.find(r=>r.name&&r.name===t.score_name)?.score;return o?t.score_values.sort((n,s)=>s.score_threshold-n.score_threshold).find(n=>n.score_threshold<=o):null}function Qh(t,e){let o=Wh(),n=te(Rs)?.data?.button_displayed,s={};return o&&Array.isArray(n)?(s=n.find(u=>u.name===o)?.value,s.score_values?tp(s,e):s):t?.button_displayed?.score_values?tp(t.button_displayed,e):t.button_displayed}function Zh(){let t=te(Rs);if(!((X()?.includes("products")||X()?.includes("pages"))&&t.active))return;let e=Jh();if(e.product_blacklist&&e.product_blacklist.includes(bt()))return;let o=zh(e),r=`${x().split("?")[0]}.js`;function n(s){let u=ve();if(!u&&!(s.variants&&s.variants[0]?.id))return;let c=s.variants.find(a=>a.id===u)||{};U("/cart.js",{},a=>{if(document.querySelector(".sticky-call-to-action-container"))return;a.items&&(a=ms(a));let g={custom_dimensions:{predictive_button:{action:"impression",button_displayed:e.button_displayed,experiment_group:o,item_cost:c.price||s.price,cart_total:a.total_price,cart_json:a,version:e.version}}};O(T.PREDICTIVE_BUTTON_DECISION,g,_=>{e.send_ga_events&&Qu(g.custom_dimensions.predictive_button.action,o);let y=Qh(e,_.apps?.audience?.scores);if(g.custom_dimensions.predictive_button.button_displayed=y,i.push({trigger:E.PREDICTIVE_BUTTON,data:g}),!o||!y)return;if(o==="control"){if(!e.controlButtonSelector)return;Xh(e.controlButtonSelector,e.controlButtonContainer,g);return}if(document.head.insertAdjacentHTML("beforeend",`<link type="text/css" rel="stylesheet" href="https://init.blackcrow.ai/public/css/${p.toLowerCase()}.css">`),e.hotjar){let lt=[`bcai_pred_bttn_${y.name}`];Ju(lt,e.hotjar)}let N=zu(s,e,g,y);document.body.append(N),y.original_button_selector&&Yh(y,N,s,u);let $=y.scroll_depth||e.scroll_depth;$?h.addListener(window,"scroll",()=>{Zu(e,N,g,$,y.hide_on_scroll_up)}):Zu(e,N,g,$,y.hide_on_scroll_up)})})}if(X().includes("pages")){let s=new MutationObserver(()=>{if(document.querySelector('a[role="button"]')?.href){if(s.disconnect(),r=`${document.querySelector('a[role="button"]').href}.js`,!r.includes("/products/"))return;U(r,{},c=>n(c))}});s.observe(document,{attributes:!1,childList:!0,characterData:!1,subtree:!0})}else U(r,{},s=>n(s))}function Dr(){J(()=>{C(Zh),k("platform",E.PREDICTIVE_BUTTON,t=>{O(T.PREDICTIVE_BUTTON,t)})})}function Ls(){C(()=>{h.setTimeout(()=>{if(window.Rebuy){let t={custom_dimensions:{modules:window.Rebuy.modules}};i.push({trigger:E.RB_ACTIVE,data:t})}},3e3)}),J(()=>{k("platform",E.RB_ACTIVE,t=>{O(T.RB_ACTIVE,t)})})}var ep=[Rr,hs,Es,ys,ws,ks,Cs,Ns,Dr,fs,gs,Ls];var Fr="target",tE=[Bt,go,ho];function Ds(){function t(o){let r="advanced_matching";Gt(Fr,o,r),Y(`${Fr} ${r}: ${o}`,"update")}function e(o){let r=M(Fr,o.name);!r||Object.keys(r).length===0||typeof o.identify=="function"&&o.identify(Fr,()=>t(o.name))}tE.forEach(o=>e(o))}function Fs(){function t(){Oa(Ds),dc(Ds),lc()}(L("config.visitor.set_info")||Qo())&&C(t)}var op=!0;function eE(t){pu(),Bn(),Qr(),Nn(),We({}),en({}),t&&Object.keys(t).length>0&&Do(t)}function Bs(t={}){function e(n){gu();let s=S(n,_u());if(en(s),it("platform",E.START,{build:"12173"}),k("platform",E.REFRESH,o),v(s,"page.ignored"))return;Zc();let u=hu();function c(a={}){Nn(),O(T.VIEW,a,g=>{mu(g,u)})}J(()=>{k("platform",E.VIEW,a=>c(a))}),ep.forEach(a=>a(c)),O(T.VIEW,{},a=>{Pr(a,u)},()=>{Pr({},u)})}function o(n={}){let s=t.pages||[],u=x(),c=Ma(s,u);if(Y(`page: ${c.id} ${c.isNewPage?"\u2714":"\xD7"}`,c),c.isNewPage){let a=S(t,c.config);op?(Qr(),op=!1):eE(n),e(a)}}function r(n=0){Xt(t)?o():n<5?h.setTimeout(()=>{r(n+1)},400):(o(),i.error(new R("vendor id not found (google id)")))}v(t,"config.visitor.id_source")==="google"?r():o(),Fs()}var oE=q({name:"log_spa_refresh_sampling",allocations:[{percent:.1,value:!0}]});function rp(t,e){oE&&Z(t,{url:e})}var np={SPA_REFRESH_ENABLED:"config.spa.refresh.enabled",SPA_REFRESH_DELAY:"config.spa.refresh.delay"};function $s(){if(!I()&&L(np.SPA_REFRESH_ENABLED)){let t=L(np.SPA_REFRESH_DELAY)||1e3;(e=>{if(e===void 0){i.error("Unable to setup SPA refresh: window.history is undefined");return}function o(s){rp("history_intercepted_initial",s),h.setTimeout(()=>{rp("history_intercepted_timeout",s),i.push({trigger:E.REFRESH})},t)}let r=e.pushState;e.pushState=function(){try{let u=arguments.length>=3?arguments[2]:"not passed";o(u)}catch(u){i.error(u)}return r.apply(e,arguments)};let n=e.replaceState;e.replaceState=function(){try{let u=arguments.length>=3?arguments[2]:"not passed";o(u)}catch(u){i.error(u)}return n.apply(e,arguments)}})(window.history)}}function ip(){let t=L("config.events");return t&&t.purchase&&t.purchase.fbEventsToIntercept&&t.purchase.fbEventsToIntercept.length>0?t.purchase.fbEventsToIntercept:null}function sp(){let t=L("config.events");return t&&t.view&&t.view.fbEventsToIntercept&&t.view.fbEventsToIntercept.length>0?t.view.fbEventsToIntercept:null}var rE=["load","error"],nE=q({name:"log_intercepted_fb_event",allocations:[{percent:.1,value:!0}]});function ap(t,e){let o="Interepted FB event - ".concat(t.event,". Event fired - ",e.type);nE&&Z(o)}function cp(t,e){return t.find(o=>{let r=o.event,s=(o.filters||[]).map(c=>`.*${c}`).join(),u=`facebook.com/tr/\\?id=.*&ev=${r}${s}`;return e.src.match(u)})}function iE(t,e,o){let r=cp(e,o);r&&(ap(r,t),i.push({trigger:E.PURCHASE}))}function sE(t,e,o){let r=cp(e,o);r&&(ap(r,t),!Ft()&&r.event==="AddToCart"&&i.push({trigger:E.ADD_TO_CART}),i.push({trigger:E.SET,data:{page_id:r.page_id,setByFacebookIntercept:!0}}),i.push({trigger:E.REFRESH}))}var aE=(t,e,o,r)=>{o&&iE(e,o,t),r&&sE(e,r,t)};function Ms(){if(!I()){let t=ip(),e=sp();if(t||e){let o=Image;Image=function(...n){let s=new o(...n);return rE.forEach(u=>h.addListener(s,u,c=>{aE(s,c,t,e)})),s}}}}function Vs(t={},e=()=>{}){cn(t,()=>{if(i.SITE_NAME=p,ga(),Dn(),i.coreStarted){i.push({trigger:E.REFRESH});return}i.coreStarted=!0,Fn(),Ua(t.param_transforms),oc(),Bs(t),$s(),Ms(),Ka(),e()})}Vs(l);})();
}catch(e){try{e.message=e.name+':'+e.message;e.name='ParseError';if(blackcrow&&blackcrow.BUILD_NUMBER==='DEV')(blackcrow.error||console.error||console.log)(e);else(blackcrow&&blackcrow.error&&blackcrow.error(e));}catch(_){}}})();
